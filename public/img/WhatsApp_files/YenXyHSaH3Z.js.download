;/*FB_PKG_DELIM*/

__d("WAMapsShallowEqual",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){var n;if(e.size!==t.size)return!1;for(var r of e){var o=r[0],a=r[1];if(n=t.get(o),n!==a||n===void 0&&!t.has(o))return!1}return!0}i.default=e}),66);
__d("WAWebBizGetProfileShimlinksQuery.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"bizJid"}],t=[{alias:null,args:[{kind:"Variable",name:"biz_jid",variableName:"bizJid"}],concreteType:"XWAWhatsAppSMBProfileWebsiteInfo",kind:"LinkedField",name:"xwa_whatsapp_smb_get_profile_linkshims",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"website",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shimmed_website_url",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"WAWebBizGetProfileShimlinksQuery",selections:t,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"WAWebBizGetProfileShimlinksQuery",selections:t},params:{id:"24491258413796282",metadata:{},name:"WAWebBizGetProfileShimlinksQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("WAWebBizGetProfileShimlinksQuery",["WALogger","WAWebBizGetProfileShimlinksQuery.graphql","WAWebGraphQLServerError","WAWebNetworkStatus","WAWebRelayClient","WAWebSignedShimmedUrl","asyncToGeneratorRuntime","isStringNullOrEmpty"],(function(t,n,r,o,a,i,l){var e,s,u,c={type:"error"},d=e!==void 0?e:e=n("WAWebBizGetProfileShimlinksQuery.graphql");function m(e){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){return yield r("WAWebNetworkStatus").waitIfOffline(),o("WAWebRelayClient").fetchQuery(d,{bizJid:e}).then(function(e){if(e==null)return c;var t=e.xwa_whatsapp_smb_get_profile_linkshims,n={type:"success",websites:t.reduce(function(e,t){var n=t.website,a=t.shimmed_website_url;return r("isStringNullOrEmpty")(n)||(r("isStringNullOrEmpty")(a)?e.push({url:n}):e.push({url:n,signedShimmedUrl:o("WAWebSignedShimmedUrl").asSignedShimmedUrl(a)})),e},[])};return o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["getProfileShimlinks: success"]))),n}).catch(function(e){return o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["getProfileShimlinks: failed with error"]))).devConsole(e),e instanceof o("WAWebGraphQLServerError").GraphQLServerError?{type:"graphql-error",error:e}:c})}),p.apply(this,arguments)}l.getProfileShimlinks=m}),98);
__d("WAWebCarouselScrollButton.react",["WAWebChevronCustomIcons","WAWebChevronIcon.react","WAWebL10N","WAWebUnstyledButton.react","fbs","react","useWAWebWindowSize"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=e||(e=r("react")),d=u.useLayoutEffect,m=u.useRef,p=u.useState,_={scrollButton:{opacity:"x1hc1fzr",position:"x10l6tqk",top:"xwa60dl",transform:"x1cb1t30",zIndex:"x1lfen1e",$$css:!0},scrollStartButton:{insetInlineStart:"x1o0tod",left:null,right:null,$$css:!0},scrollEndButton:{insetInlineEnd:"xtijo5x",left:null,right:null,$$css:!0},chevron:{color:"xo1mcw5",$$css:!0}};function f(e){var t=e.direction,n=e.onClick,a=e.xstyle,i=r("WAWebL10N").isRTL()?[o("WAWebChevronIcon.react").ChevronIcon,o("WAWebChevronCustomIcons").ChevronLeftCustomIcon]:[o("WAWebChevronCustomIcons").ChevronLeftCustomIcon,o("WAWebChevronIcon.react").ChevronIcon],l=i[0],s=i[1],u=t==="start"?l:s,d=t==="start"?_.scrollStartButton:_.scrollEndButton,m=t==="start"?r("fbs")._(/*BTDS*/"Scroll previous"):r("fbs")._(/*BTDS*/"Scroll next");return c.jsx(r("WAWebUnstyledButton.react"),{onClick:n,xstyle:[d,_.scrollButton,a],"aria-label":m,children:c.jsx("div",{className:"x6s0dn4 x16w0wmm x1c9tyrk xeusxvb x1pahc9y x1ertn4p x178xt8z x1lun4ml xso031l xpilrb4 x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x1pyc6se x1mlb2bo x16pkwpw xqe4bef x11g758w x78zum5 xl56j7k xi881uo xyg06dn x17gydlx xphzr9 x1q665ic xxm48n2",children:c.jsx(u,{xstyle:_.chevron})})})}f.displayName=f.name+" [from "+i.id+"]";function g(e){var t=e.itemWidth,n=e.isLoading,o=e.itemsLoaded,a=e.isFullUnit,i=m(),l=p("start"),s=l[0],u=l[1],c=p(!1),_=c[0],f=c[1],g=r("useWAWebWindowSize")();d(function(){if(n||a)return f(!1);var e=i.current;e!=null&&(e.scrollWidth>e.clientWidth?f(!0):f(!1))},[g.width,n,o,a]);var h=function(n){n===void 0&&(n=t);var e=i.current;if(e!=null){var o=Math.abs(e.scrollLeft);if(o<t*1.5)e.scrollTo({left:0,behavior:"smooth"}),u("start");else{var a=n*(r("WAWebL10N").isRTL()?1:-1);e.scrollBy({left:a,behavior:"smooth"}),u(o===0?"start":"middle")}}},y=function(n){n===void 0&&(n=t);var e=i.current;if(e!=null){var o=Math.abs(e.scrollLeft);e.scrollWidth-(e.clientWidth+o)<t*1.5?(e.scrollTo({left:e.scrollWidth*(r("WAWebL10N").isRTL()?-1:1),behavior:"smooth"}),u("end")):(e.scrollBy({left:n*(r("WAWebL10N").isRTL()?-1:1),behavior:"smooth"}),u(e.clientWidth+o===e.scrollWidth?"end":"middle"))}},C=function(){var e=i.current;e!=null&&(Math.abs(e.scrollLeft)===0?u("start"):e.scrollWidth===Math.ceil(e.clientWidth+Math.abs(e.scrollLeft))?u("end"):u("middle"))};return{containerRef:i,scrollStartBy:_?h:null,scrollEndBy:_?y:null,position:s,handleScroll:C}}l.CarouselScrollButton=f,l.useScrollableContainer=g}),226);
__d("WAWebMexChangeNewsletterOwnerJobMutation.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"newsletter_id"},{defaultValue:null,kind:"LocalArgument",name:"user_id"}],t=[{kind:"Variable",name:"newsletter_id",variableName:"newsletter_id"},{kind:"Variable",name:"user_id",variableName:"user_id"}],n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"WAWebMexChangeNewsletterOwnerJobMutation",selections:[{alias:null,args:t,concreteType:"XWA2NewsletterMutationResponse",kind:"LinkedField",name:"xwa2_newsletter_change_owner",plural:!1,selections:[n],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"WAWebMexChangeNewsletterOwnerJobMutation",selections:[{alias:null,args:t,concreteType:"XWA2NewsletterMutationResponse",kind:"LinkedField",name:"xwa2_newsletter_change_owner",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"9546742745432473",metadata:{},name:"WAWebMexChangeNewsletterOwnerJobMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("WAWebMexChangeNewsletterOwnerJob",["WAWebLidMigrationUtils","WAWebMexChangeNewsletterOwnerJobMutation.graphql","WAWebMexClient","WAWebNewsletterRpcUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s=e!==void 0?e:e=n("WAWebMexChangeNewsletterOwnerJobMutation.graphql");function u(e,t){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){return o("WAWebNewsletterRpcUtils").runWithBackoff(function(){return d(e,t)})}),c.apply(this,arguments)}function d(e,t){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=o("WAWebLidMigrationUtils").toUserLidOrThrow(t);yield o("WAWebMexClient").fetchQuery(s,{newsletter_id:e,user_id:n.toString()})}),m.apply(this,arguments)}l.mexChangeNewsletterOwner=u}),98);
__d("WAWebNewsletterChangeOwnerJob",["WAJobOrchestratorTypes","WAWebMexChangeNewsletterOwnerJob","WAWebOrchestratorNonPersistedJob","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){function e(e,t){return o("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("changeNewsletterOwner",n("asyncToGeneratorRuntime").asyncToGenerator(function*(){return o("WAWebMexChangeNewsletterOwnerJob").mexChangeNewsletterOwner(e,t)}),{priority:o("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}).waitUntilCompleted()}l.changeNewsletterOwner=e}),98);
__d("WAWebChangeNewsletterOwnerAction",["WALogger","WAWebChatGetters","WAWebCommonNewsletterEnums","WAWebNewsletterBridgeApi","WAWebNewsletterChangeOwnerJob","WAWebNewsletterMembershipUtil","WAWebNewsletterValidationUtils","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime","err"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m;function p(e,t){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){var a;if(!o("WAWebChatGetters").getIsNewsletter(t))throw o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[newsletter][changeNewsletterOwnerAction] called with a non-newsletter chat"]))).tags("newsletter").devConsole(t.id).sendLogs("change-owner-of-non-newsletter"),r("err")("change-owner-of-non-newsletter");if(!o("WAWebNewsletterMembershipUtil").iAmOwner(t.newsletterMetadata))throw o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[newsletter][changeNewsletterOwnerAction] Only newsletter owners can transfer ownership"]))).tags("newsletter").devConsole(t.id).sendLogs("non-newsletter-owner-transferring-ownership"),r("err")("non-newslette-owner-transferring-ownership");if(o("WAWebUserPrefsMeUser").isMeAccount(n.id))throw o("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[newsletter][changeNewsletterOwnerAction] Cannot transfer ownership to self"]))).tags("newsletter").devConsole(t.id).sendLogs("transferring-newsletter-to-self"),r("err")("transferring-newsletter-to-self");var i=(a=t.newsletterMetadata)==null?void 0:a.subscribers.get(n.id);if(i==null)throw o("WALogger").ERROR(c||(c=babelHelpers.taggedTemplateLiteralLoose(["[newsletter][changeNewsletterOwnerAction] Cannot transfer ownership to contact not in newsletter"]))).tags("newsletter").devConsole(t.id).sendLogs("contact-not-found-in-newsletter-subscriber-list"),r("err")("contact-not-found-in-newsletter-subscriber-list");if(i.membership!==o("WAWebCommonNewsletterEnums").NewsletterMembershipType.Admin)throw o("WALogger").ERROR(d||(d=babelHelpers.taggedTemplateLiteralLoose(["[newsletter][changeNewsletterOwnerAction] Cannot transfer ownership to a non-admin, role: ",""])),i.membership).tags("newsletter").devConsole(t.id).sendLogs("transferring-newsletter-ownership-to-non-admin"),r("err")("transferring-newsletter-ownership-to-non-admin");try{var l=o("WAWebWidFactory").asUserWidOrThrow(n.id),p=o("WAWebNewsletterValidationUtils").toNewsletterJidOrThrow(t.id.toJid());yield o("WAWebNewsletterChangeOwnerJob").changeNewsletterOwner(p,l),yield o("WAWebNewsletterBridgeApi").NewsletterBridgeApi.updateMyNewsletterMembershipRole({newsletter:t,newRole:o("WAWebCommonNewsletterEnums").NewsletterMembershipType.Admin}),yield o("WAWebNewsletterBridgeApi").NewsletterBridgeApi.updateNewsletterMemberRole({newsletter:t,member:n,newRole:o("WAWebCommonNewsletterEnums").NewsletterMembershipType.Owner})}catch(e){throw o("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[newsletter][changeNewsletterOwnerAction] failed to transfer ownership"]))).tags("newsletter").devConsole(e).sendLogs("change-newsletter-owner-failed"),e}}),_.apply(this,arguments)}l.changeNewsletterOwnerAction=p}),98);
__d("WAWebWamEnumChannelLinkShareDirection",[],(function(t,n,r,o,a,i){var e=Object.freeze({WHATSAPP:1,STATUS:2,EXTERNAL:3,QR_CODE:4});i.CHANNEL_LINK_SHARE_DIRECTION=e}),66);
__d("WAWebWamEnumChannelLinkShareScreen",[],(function(t,n,r,o,a,i){var e=Object.freeze({CONTEXT_CARD:1,CHANNEL_INFO:2,CHANNEL_THREAD:3,SHARE_LINK_SCREEN:4,UPDATES_TAB:5,QR_CODE_SCREEN:6});i.CHANNEL_LINK_SHARE_SCREEN=e}),66);
__d("WAWebChannelLinkShareWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumChannelLinkShareDirection","WAWebWamEnumChannelLinkShareEntryPoint","WAWebWamEnumChannelLinkShareScreen"],(function(t,n,r,o,a,i,l){var e,s=(e=o("WAWebWamCodegenUtils")).defineEvents({ChannelLinkShare:[4728,{channelLinkShareDirection:[1,o("WAWebWamEnumChannelLinkShareDirection").CHANNEL_LINK_SHARE_DIRECTION],channelLinkShareEntryPoint:[2,o("WAWebWamEnumChannelLinkShareEntryPoint").CHANNEL_LINK_SHARE_ENTRY_POINT],channelLinkShareScreen:[4,o("WAWebWamEnumChannelLinkShareScreen").CHANNEL_LINK_SHARE_SCREEN],cid:[3,e.TYPES.STRING],unifiedSessionId:[5,e.TYPES.STRING],updatesTabSessionId:[6,e.TYPES.INTEGER]},[1,1,1],"regular"]},{ChannelLinkShare:[]});l.ChannelLinkShareWamEvent=s}),98);
__d("WAWebWamEnumActionTarget",[],(function(t,n,r,o,a,i){var e=Object.freeze({REACH_TAB:0,GROWTH_TAB:1,FOLLOWERS_TAB:2,ACCOUNTS_REACHED_INFO_ICON:3,TOP_REGIONS_REACH_INFO_ICON:4,GROWTH_CHART_INFO_ICON:5,TOP_REGIONS_FOLLOWERS_INFO_ICON:6,HELP_CENTER_DATA_UNAVAILABLE_ARTICLE:7,HELP_CENTER_CHANNEL_METRICS_ARTICLE:8,WIDGET_INFO_ICON:9,TOTAL_FOLLOWERS_INFO_ICON:10});i.ACTION_TARGET=e}),66);
__d("WAWebWamEnumChannelProducerInsightsActionType",[],(function(t,n,r,o,a,i){var e=Object.freeze({WIDGET_IMPRESSION:0,OPEN:1,CLOSE:2,NAVIGATION_TAP:3,INFO_ICON_TAP:4,LINK_CLICK:5});i.CHANNEL_PRODUCER_INSIGHTS_ACTION_TYPE=e}),66);
__d("WAWebWamEnumChannelProducerInsightsEntryPoint",[],(function(t,n,r,o,a,i){var e=Object.freeze({PROFILE_SEE_ALL:0,PROFILE_ACCOUNTS_REACHED:1,PROFILE_NET_FOLLOWS:2});i.CHANNEL_PRODUCER_INSIGHTS_ENTRY_POINT=e}),66);
__d("WAWebWamEnumChannelProducerInsightsSurface",[],(function(t,n,r,o,a,i){var e=Object.freeze({CHANNEL_INFO:0,REACH_TAB:1,GROWTH_TAB:2,FOLLOWERS_TAB:3});i.CHANNEL_PRODUCER_INSIGHTS_SURFACE=e}),66);
__d("WAWebChannelProducerInsightsNavigationWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumActionTarget","WAWebWamEnumChannelProducerInsightsActionType","WAWebWamEnumChannelProducerInsightsEntryPoint","WAWebWamEnumChannelProducerInsightsSurface"],(function(t,n,r,o,a,i,l){var e,s=(e=o("WAWebWamCodegenUtils")).defineEvents({ChannelProducerInsightsNavigation:[5626,{channelProducerInsightsActionTarget:[1,o("WAWebWamEnumActionTarget").ACTION_TARGET],channelProducerInsightsActionType:[2,o("WAWebWamEnumChannelProducerInsightsActionType").CHANNEL_PRODUCER_INSIGHTS_ACTION_TYPE],channelProducerInsightsEntryPoint:[3,o("WAWebWamEnumChannelProducerInsightsEntryPoint").CHANNEL_PRODUCER_INSIGHTS_ENTRY_POINT],channelProducerInsightsSequenceNumber:[4,e.TYPES.INTEGER],channelProducerInsightsSurface:[5,o("WAWebWamEnumChannelProducerInsightsSurface").CHANNEL_PRODUCER_INSIGHTS_SURFACE],cid:[6,e.TYPES.STRING],producerInsightsSessionId:[7,e.TYPES.INTEGER],unifiedSessionId:[8,e.TYPES.STRING],updatesTabSessionId:[9,e.TYPES.INTEGER]},[1,1,1],"regular"]},{ChannelProducerInsightsNavigation:[]});l.ChannelProducerInsightsNavigationWamEvent=s}),98);
__d("WAWebWamEnumDisclosureAction",[],(function(t,n,r,o,a,i){var e=Object.freeze({SCREEN_VIEW:0,CLICK_ON_CONTINUE:1,CANCEL:2,BACK_BUTTON_TOOLBAR:3,BACK_BUTTON_SYSTEM:4,DISMISS:5,DISCLOSURE_INFO_VIEW:6});i.DISCLOSURE_ACTION=e}),66);
__d("WAWebWamEnumDisclosureContextType",[],(function(t,n,r,o,a,i){var e=Object.freeze({PREFILL_TEXT:0,EMPTY_PREFILL_TEXT:1,ICEBREAKERS:2,NOT_APPLICABLE:3});i.DISCLOSURE_CONTEXT_TYPE=e}),66);
__d("WAWebWamEnumDisclosureEntryPointType",[],(function(t,n,r,o,a,i){var e=Object.freeze({PRE_THREAD:0,ON_THREAD_ENTRY:1,SEND_FROM_THREAD:2,SEND_FROM_THREAD_KEYBOARD:3,ICEBREAKERS:4,THREAD_ATTACHMENT_BAR:5,THREAD_EMOJI_BAR:6,AUDIO_VIDEO_CALL_FROM_THREAD:7,AUDIO_CALL_FROM_THREAD:8,VIDEO_CALL_FROM_THREAD:9,AUDIO_NOTE_FROM_THREAD:10,VIDEO_NOTE_FROM_THREAD:11,CAMERA_MEDIA_SELECTION:12,CALL_FROM_PROFILE:13,OVERFLOW_SEND_ORDER:14,MESSAGE_FROM_PROFILE:15,VIDEO_CALL_FROM_PROFILE:16,CALL_FROM_BUSINESS_DETAILS_CARD:17,TEXT_ENTRY_FROM_THREAD:18,VIEW_CATALOG_FROM_THREAD:19,VIEW_CATALOG_FROM_PROFILE:20,SEND_CALL_LINK_FROM_THREAD:21});i.DISCLOSURE_ENTRY_POINT_TYPE=e}),66);
__d("WAWebWamEnumDisclosureType",[],(function(t,n,r,o,a,i){var e=Object.freeze({NON_BLOCKING:0,BLOCKING:1,INFO:2,IN_THREAD_BLOCKING:3,IN_THREAD_BLOCKING_WITH_BACK:4});i.DISCLOSURE_TYPE=e}),66);
__d("WAWebCtwaConsumerDisclosureWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumDisclosureAction","WAWebWamEnumDisclosureContextType","WAWebWamEnumDisclosureEntryPointType","WAWebWamEnumDisclosureType"],(function(t,n,r,o,a,i,l){var e=o("WAWebWamCodegenUtils").defineEvents({CtwaConsumerDisclosure:[4406,{ctwaConsumerDisclosureVersion:[3,o("WAWebWamCodegenUtils").TYPES.INTEGER],disclosureAction:[1,o("WAWebWamEnumDisclosureAction").DISCLOSURE_ACTION],disclosureContext:[5,o("WAWebWamEnumDisclosureContextType").DISCLOSURE_CONTEXT_TYPE],disclosureEntryPoint:[4,o("WAWebWamEnumDisclosureEntryPointType").DISCLOSURE_ENTRY_POINT_TYPE],disclosureType:[2,o("WAWebWamEnumDisclosureType").DISCLOSURE_TYPE]},[1,1,1],"private",0]},{CtwaConsumerDisclosure:[]});l.CtwaConsumerDisclosureWamEvent=e}),98);
__d("WAWebSettingsSecurityIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(t,n,r,o,a,i,l){var e=["iconXstyle","height","width","name","viewBox"],s,u,c=s||(s=r("react")),d="settings-security";function m(t){var n=t.iconXstyle,a=t.height,i=t.width,l=t.name,s=t.viewBox,m=babelHelpers.objectWithoutPropertiesLoose(t,e),p;if(s){var _=s.x,f=_===void 0?0:_,g=s.y,h=g===void 0?0:g,y=s.width,C=y===void 0?0:y,b=s.height,v=b===void 0?0:b;p=[f,h,C,v].join(" ")}var S=24,R=24;return(a!=null||i!=null)&&(S=a,R=i),c.jsx(o("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers.extends({name:l!=null?l:d},m,{children:c.jsxs("svg",{viewBox:p!=null?p:"0 0 24 24",height:S,width:R,preserveAspectRatio:"xMidYMid meet",className:(u||(u=r("stylex")))(n),version:"1.1",children:[c.jsx("title",{children:l!=null?l:d}),c.jsx("path",{d:"M12.027027,2 L4,5.56756757 L4,10.9189189 C4,15.8689189 7.42486486,20.4978378 12.027027,21.6216216 C16.6291892,20.4978378 20.0540541,15.8689189 20.0540541,10.9189189 L20.0540541,5.56756757 L12.027027,2 Z M12.027027,11.8018919 L18.2702703,11.8018919 C17.7975676,15.4764865 15.3448649,18.7497297 12.027027,19.7754054 L12.027027,11.8108108 L5.78378378,11.8108108 L5.78378378,6.72702703 L12.027027,3.95324324 L12.027027,11.8018919 Z",fill:"currentColor",fillRule:"nonzero"})]})}))}m.displayName=m.name+" [from "+i.id+"]",l.SettingsSecurityIcon=m}),98);
__d("WAWebWdsPictoMetaDataChevronIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(t,n,r,o,a,i,l){var e=["iconXstyle","height","width","name","viewBox"],s,u,c=s||(s=r("react")),d="wds-picto-meta-data-chevron";function m(t){var n=t.iconXstyle,a=t.height,i=t.width,l=t.name,s=t.viewBox,m=babelHelpers.objectWithoutPropertiesLoose(t,e),p;if(s){var _=s.x,f=_===void 0?0:_,g=s.y,h=g===void 0?0:g,y=s.width,C=y===void 0?0:y,b=s.height,v=b===void 0?0:b;p=[f,h,C,v].join(" ")}var S=88,R=88;return(a!=null||i!=null)&&(S=a,R=i),c.jsx(o("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers.extends({name:l!=null?l:d},m,{children:c.jsxs("svg",{viewBox:p!=null?p:"0 0 88 88",height:S,width:R,preserveAspectRatio:"xMidYMid meet",className:(u||(u=r("stylex")))(n),fill:"none",children:[c.jsx("title",{children:l!=null?l:d}),c.jsx("path",{d:"M46.9317 43.9827L38.2672 52.6558C36.9607 53.9623 36.9942 56.1063 38.2672 57.4128C39.5737 58.7192 41.6842 58.7192 42.9907 57.4128L54.0337 46.3612C55.3402 45.0547 55.3402 42.9442 54.0337 41.6377L43.0039 30.6128C41.6974 29.3063 39.5869 29.3063 38.2804 30.6128C36.9739 31.9193 36.9739 34.0298 38.2804 35.3363L46.9317 43.9827Z",fill:"#25D366"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M44 10.5C62.492 10.5 77.5 25.508 77.5 44C77.5 62.492 62.492 77.5 44 77.5C25.508 77.5 10.5 62.492 10.5 44C10.5 25.508 25.508 10.5 44 10.5ZM44 17.2C29.193 17.2 17.2 29.193 17.2 44C17.2 58.807 29.193 70.8 44 70.8C58.807 70.8 70.8 58.807 70.8 44C70.8 29.193 58.807 17.2 44 17.2Z",fill:"#25D366"}),c.jsx("path",{d:"M46.9317 43.9827L38.2672 52.6558C36.9607 53.9623 36.9942 56.1063 38.2672 57.4128C39.5737 58.7192 41.6842 58.7192 42.9907 57.4128L54.0337 46.3612C55.3402 45.0547 55.3402 42.9442 54.0337 41.6377L43.0039 30.6128C41.6974 29.3063 39.5869 29.3063 38.2804 30.6128C36.9739 31.9193 36.9739 34.0298 38.2804 35.3363L46.9317 43.9827Z",stroke:"#111B21",strokeWidth:1.46591}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M44 10.5C62.492 10.5 77.5 25.508 77.5 44C77.5 62.492 62.492 77.5 44 77.5C25.508 77.5 10.5 62.492 10.5 44C10.5 25.508 25.508 10.5 44 10.5ZM44 17.2C29.193 17.2 17.2 29.193 17.2 44C17.2 58.807 29.193 70.8 44 70.8C58.807 70.8 70.8 58.807 70.8 44C70.8 29.193 58.807 17.2 44 17.2Z",stroke:"#111B21",strokeWidth:1.46591})]})}))}m.displayName=m.name+" [from "+i.id+"]",l.WdsPictoMetaDataChevronIcon=m}),98);
__d("WAWebConsumerTransparencyModalDialog.react",["fbt","WAWebConfirmPopup.react","WAWebCtwaConsumerDisclosureWamEvent","WAWebExternalLink.react","WAWebFaqUrl","WAWebFlex.react","WAWebIcVisibilityOffIcon.react","WAWebModal.react","WAWebModalManager","WAWebSettingsSecurityIcon.react","WAWebSingleChevronInCircleIcon.react","WAWebText_DONOTUSE.react","WAWebUISpacing","WAWebWamEnumDisclosureAction","WAWebWamEnumDisclosureType","WAWebWdsPictoMetaDataChevronIcon.react","react"],(function(t,n,r,o,a,i,l,s){var e,u,c=u||(u=r("react")),d=(e||(e=o("react"))).useEffect,m={fullWidth:{width:"xh8yej3",$$css:!0},bulletIconColorNew:{color:"xhslqc4",$$css:!0}};function p(){o("WAWebModalManager").ModalManager.open(c.jsx(f,{}))}function _(){var e,t,n,r=c.jsx(o("WAWebSingleChevronInCircleIcon.react").SingleChevronInCircleIcon,{height:24,width:24,xstyle:m.bulletIconColorNew}),a=r,i=c.jsx(o("WAWebIcVisibilityOffIcon.react").IcVisibilityOffIcon,{height:24,width:24,xstyle:m.bulletIconColorNew}),l=c.jsx(o("WAWebWdsPictoMetaDataChevronIcon.react").WdsPictoMetaDataChevronIcon,{width:88,height:88}),u=s._(/*BTDS*/"This icon means Meta receives limited info, like the number and types of interactions with a business chat");return c.jsxs((e=o("WAWebFlex.react")).FlexColumn,{children:[c.jsx(e.FlexRow,{justify:"center",xstyle:[m.fullWidth,(t=o("WAWebUISpacing")).uiMargin.bottom8],children:l}),c.jsx((n=o("WAWebText_DONOTUSE.react")).TextDiv,{size:"20",color:"dark",weight:"medium",xstyle:t.uiMargin.top12,children:s._(/*BTDS*/"About chats that start from Facebook or Instagram ads")}),c.jsx(n.TextDiv,{size:"16",weight:"normal",color:"dark",xstyle:t.uiMargin.top16,children:s._(/*BTDS*/"When you start a chat with a business after interacting with their ad on Facebook or Instagram, WhatsApp's parent company Meta receives limited info. This helps improve Meta ads and your experience on those apps. {=m2}",[s._implicitParam("=m2",c.jsx(o("WAWebExternalLink.react").ExternalLink,{href:o("WAWebFaqUrl").getConsumerTransparencyHCAUrl(),children:s._(/*BTDS*/"Learn more")}))])}),c.jsxs(e.FlexRow,{justify:"center",align:"center",xstyle:t.uiMargin.top36,children:[i,c.jsx(n.TextSpan,{size:"13",color:"dark",xstyle:t.uiMargin.start24,children:s._(/*BTDS*/"WhatsApp never shares your message content or calls")})]}),c.jsxs(e.FlexRow,{justify:"center",align:"center",xstyle:t.uiMargin.top20,children:[a,c.jsx(n.TextSpan,{size:"13",color:"dark",xstyle:t.uiMargin.start24,children:u})]}),c.jsxs(e.FlexRow,{justify:"center",align:"center",xstyle:t.uiMargin.top20,children:[c.jsx(o("WAWebSettingsSecurityIcon.react").SettingsSecurityIcon,{height:24,width:24,xstyle:m.bulletIconColorNew}),c.jsx(n.TextSpan,{size:"13",color:"dark",xstyle:t.uiMargin.start24,children:s._(/*BTDS*/"You can always stop chatting with a business or block them")})]})]})}_.displayName=_.name+" [from "+i.id+"]";function f(){d(function(){new(o("WAWebCtwaConsumerDisclosureWamEvent")).CtwaConsumerDisclosureWamEvent({ctwaConsumerDisclosureVersion:1,disclosureAction:o("WAWebWamEnumDisclosureAction").DISCLOSURE_ACTION.SCREEN_VIEW,disclosureType:o("WAWebWamEnumDisclosureType").DISCLOSURE_TYPE.INFO}).commit()},[]);var e=function(){return o("WAWebModalManager").ModalManager.close()};return c.jsx(o("WAWebConfirmPopup.react").ConfirmPopup,{testid:void 0,type:o("WAWebModal.react").ModalTheme.UpdatedDataSharing,onOK:e,okText:s._(/*BTDS*/"Close"),onOverlayClick:e,children:c.jsx(_,{})})}f.displayName=f.name+" [from "+i.id+"]",l.showConsumerTransparencyModalDialog=p,l.ConsumerTransparencyModalDialog=f}),226);
__d("WAWebDeltaArrow.react",["WAWebArrowForwardIcon.react","WAWebL10N","WAWebNewsletterMetricUtils","WAWebSvgComponentBase","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react"));function u(e){var t=r("WAWebL10N").isRTL();return{transform:"rotate("+(t?e:-e)+"deg) scale("+(t?-1:1)+")"}}function c(e){var t=e.delta,n=e.size;if(o("WAWebNewsletterMetricUtils").isDeltaValueZero(t)||t===o("WAWebNewsletterMetricUtils").DELTA_INFINITE)return null;var r=t>0,a=r?45:-45;return s.jsx(o("WAWebArrowForwardIcon.react").ArrowForwardIcon,{height:n,width:n,style:u(a),DEPRECATED_color:r?o("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.SUCCESS:o("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.CRITICAL})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("WAWebDeltaText.react",["WAWebL10N","WAWebNewsletterMetricUtils","WAWebText.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react"));function u(e){return o("WAWebNewsletterMetricUtils").isDeltaValueZero(e)?"secondary":e>0?"success":"critical"}function c(e){return Math.abs(e)>=100?r("WAWebL10N").d(e,void 0,{signDisplay:"exceptZero",style:"percent"}):r("WAWebL10N").n(e,void 0,{signDisplay:"exceptZero",style:"percent",maximumSignificantDigits:3,trailingZeroDisplay:"stripIfInteger"})}function d(e){var t=e.delta,n=e.size,r=e.testid;if(t===o("WAWebNewsletterMetricUtils").DELTA_INFINITE)return null;var a=n==="small"?o("WAWebText.react").WAWebTextMuted:o("WAWebText.react").WAWebTextTitle;return s.jsx(a,{testid:void 0,color:u(t),children:c(t)})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("WAWebFirstPartyStickerInfo.react",["fbt","WAWebButton.react","WAWebCmd","WAWebFavoriteStickerAction","WAWebFavoriteStickerCollection","WAWebFlex.react","WAWebMiscGatingUtils","WAWebStickerDetailsStickerPackInfo.react","WAWebStickerPackCollectionMd","react","useWAWebEventTargetValue"],(function(t,n,r,o,a,i,l,s){var e,u,c=u||(u=r("react")),d=(e||(e=o("react"))).useEffect,m=150;function p(e){var t=e.stickerPackId,n=e.onStickerPackView,r=e.stickerPackViewDelay,a=e.sticker,i=e.showViewPackButton,l=_(t),u;if(t){var d=function(a){a.stopPropagation(),n&&n(),r!=null?self.setTimeout(function(){return o("WAWebCmd").Cmd.openStickerPack(t)},r+m):o("WAWebCmd").Cmd.openStickerPack(t)};o("WAWebMiscGatingUtils").isFavoriteStickersEnabled()?a!=null&&(u=c.jsxs(o("WAWebFlex.react").FlexRow,{gap:8,children:[i&&c.jsx(o("WAWebButton.react").Button,{onClick:d,type:"secondary",children:s._(/*BTDS*/"View Pack")}),o("WAWebFavoriteStickerCollection").FavoriteStickerCollection.get(a.filehash)?c.jsx(o("WAWebButton.react").Button,{onClick:function(){return o("WAWebFavoriteStickerAction").removeStickerFromFavorites(a)},type:"secondary",children:s._(/*BTDS*/"Remove From Favorites")}):c.jsx(o("WAWebButton.react").Button,{onClick:function(){return o("WAWebFavoriteStickerAction").addStickerToFavorites(a)},type:"secondary",children:s._(/*BTDS*/"Add to Favorites")})]})):u=i?c.jsx(o("WAWebButton.react").Button,{onClick:d,type:"secondary",children:s._(/*BTDS*/"View Pack")}):null}return c.jsxs(c.Fragment,{children:[c.jsx(o("WAWebStickerDetailsStickerPackInfo.react").StickerDetailsStickerPackInfo,{name:l==null?void 0:l.name,publisher:l==null?void 0:l.publisher,theme:o("WAWebStickerDetailsStickerPackInfo.react").Theme.MediaViewer}),u]})}p.displayName=p.name+" [from "+i.id+"]";function _(e){d(function(){e&&o("WAWebStickerPackCollectionMd").StickerPackCollectionMd.fetchStickerPack(e)},[e]);var t=r("useWAWebEventTargetValue")(o("WAWebStickerPackCollectionMd").StickerPackCollectionMd,"add remove reset",function(){return e!=null?o("WAWebStickerPackCollectionMd").StickerPackCollectionMd.get(e):null});return t}l.default=p}),226);
__d("WAWebGlanceInsight.react",["fbt","WAWebBaseShimmerComponents.react","WAWebDeltaArrow.react","WAWebDeltaText.react","WAWebFlex.react","WAWebKeyboardHotKeys.react","WAWebL10N","WAWebNewsletterMetricUtils","WAWebText.react","WAWebUISpacing","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={container:{borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",borderTopColor:"xnj1f2r",borderInlineEndColor:"x2uibgs",borderBottomColor:"xkveyfu",borderInlineStartColor:"x12llq9",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderStartStartRadius:"x6nvzda",borderStartEndRadius:"x4i4b9w",borderEndEndRadius:"xhl9efl",borderEndStartRadius:"xj65ea0",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},delta:{height:"x1fgtraw",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},button:{cursor:"x1ypdohk",$$css:!0}};function d(e){var t=e.insight,n=e.label,a=e.loading,i=a===void 0?!1:a,l=e.onClick,d=e.showDelta,m=d===void 0?!0:d,p=e.testid,_=e.xstyle,f=t!=null?t:{},g=f.value,h=f.delta,y=l==null||g==null,C=i?u.jsx(o("WAWebFlex.react").FlexItem,{paddingTop:4,paddingBottom:4,children:u.jsx(o("WAWebBaseShimmerComponents.react").RectangleShimmer,{height:20,width:36})}):u.jsxs(u.Fragment,{children:[u.jsx(o("WAWebText.react").WAWebTextLarge,{testid:void 0,color:y?"secondaryLighter":"primary",children:g!=null?r("WAWebL10N").d(g):s._(/*BTDS*/"\u2014 \u2014")}),m&&h!=null&&h!==o("WAWebNewsletterMetricUtils").DELTA_INFINITE&&!o("WAWebNewsletterMetricUtils").isDeltaValueZero(h)&&u.jsxs(o("WAWebFlex.react").FlexRow,{align:"center",paddingStart:4,xstyle:c.delta,testid:void 0,children:[u.jsx(r("WAWebDeltaArrow.react"),{delta:h,size:32}),u.jsx(r("WAWebDeltaText.react"),{delta:h,size:"large"})]})]});return u.jsx(o("WAWebKeyboardHotKeys.react").HotKeys,{"data-testid":void 0,xstyle:[c.container,o("WAWebUISpacing").uiPadding.all16,l&&c.button,_],onClick:l,children:u.jsxs(o("WAWebFlex.react").FlexColumn,{children:[u.jsx(o("WAWebFlex.react").FlexRow,{align:"center",children:C}),u.jsx(o("WAWebText.react").WAWebTextSmall,{color:y?"secondaryLighter":"primary",textWrap:"nowrap",children:n})]})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("WAWebMediaAudio.react",["fbt","WAWebMediaUrlProvider","WAWebPttAudioTag.react","WAWebUIRefreshGatingUtils","react","useWAWebModelValues"],(function(t,n,r,o,a,i,l,s){var e,u=e||(e=r("react")),c=function(t){t.stopPropagation()};function d(e){var t=e.msg,n=e.url,a=o("WAWebUIRefreshGatingUtils").checkIfShouldBeEnabledInWindowsEnv()?s._(/*BTDS*/"Audio playback is not supported on this device."):s._(/*BTDS*/"Your browser doesn't support audio playback.");return u.jsx(r("WAWebPttAudioTag.react"),{url:n,className:"xh8yej3 xqolr7f x1anomrk",onClick:c,autoPlay:!0,msg:t,controls:!0,testId:"media-audio",children:a})}d.displayName=d.name+" [from "+i.id+"]";function m(){return u.jsx("div",{className:"xzkaem6 xdzyupr x1vd4hg5 xx5krr6 xztyhrg x18d0r48",onClick:c})}m.displayName=m.name+" [from "+i.id+"]";function p(e){var t=e.mediaData,n=e.msg,a=o("useWAWebModelValues").useModelValues(t,["mediaStage","renderableUrl"]);return u.jsx(r("WAWebMediaUrlProvider"),{mediaData:a,placeholderRenderer:m,children:function(t){return u.jsx(d,{url:t,msg:n})}})}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),226);
__d("WAWebMediaViewerFlow.react",["Keys","Promise","WALogger","WANullthrows","WAWebAllMediaCollection","WAWebCarouselMsgUtils","WAWebChatMedia","WAWebFrontendConstants","WAWebFrontendMsgGetters","WAWebL10N","WAWebMediaIncrementalZoom","WAWebMediaTypes","WAWebMediaViewerModal.react","WAWebMiscGatingUtils","WAWebModalManager","WAWebMsgGetters","WAWebMsgType","WAWebSuspendedGroupUtils","WAWebThumbList.react","WAWebUiActionWamEvent","WAWebVelocityAnimate","WAWebWamEnumUiActionType","WAWebWamGroupMetadataMetricUtils_WORKER_INCOMPATIBLE","WAWebWamMsgUtils","WAWebWamPrivateStatsUtils","asyncToGeneratorRuntime","react","useLazyRef","useWAWebForceUpdate","useWAWebListener","useWAWebPrevious","useWAWebStableCallback","useWAWebThrottledCallback","useWAWebUiIdle","useWAWebUnmountSignal"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m=d||(d=o("react")),p=c||(c=r("react")),_=m.useCallback,f=m.useEffect,g=m.useRef,h=m.useState,y=p.createContext(!1),C={duration:300,delay:100,easing:[.1,.82,.25,1]},b=function(t){var e=t.direction,n=[1,0],r=["0%","100%"];return e==="down"&&(n.reverse(),r.reverse()),{opacity:n,translateY:r}},v=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.el,n=e.direction;if(t)return r("WAWebVelocityAnimate")(t,b({direction:n}),C)});return function(n){return e.apply(this,arguments)}})();function S(t){"use no forget";var a,i,l,c=t.msg,d=t.highlightedMsgIds,m=t.shouldShowAllMedia,C=r("useWAWebUnmountSignal")(),b=r("useWAWebUiIdle")(),S=o("useWAWebForceUpdate").useForceUpdateDONOTUSE(),L=o("WAWebFrontendMsgGetters").getChat(c),E=!!((a=L.groupMetadata)!=null&&a.isLidAddressingMode),k=o("WAWebWamMsgUtils").msgIsLid(c,L.id,E),I=r("useLazyRef")(function(){return c.type===o("WAWebMsgType").MSG_TYPE.IMAGE?new(o("WAWebUiActionWamEvent")).UiActionWamEvent({uiActionType:o("WAWebWamEnumUiActionType").UI_ACTION_TYPE.IMAGE_OPEN,uiActionPreloaded:c.mediaData.mediaStage===o("WAWebMediaTypes").MediaDataStage.RESOLVED,isLid:k}):null}),T=r("useLazyRef")(function(){var e=c;if(c.isCarouselCard){var t;e=(t=o("WAWebCarouselMsgUtils").getParentMsgFromCarouselCard(c))!=null?t:c}return o("WAWebChatMedia").constructMediaMsgs(o("WAWebFrontendMsgGetters").getChat(e),e)}),D=m===!0?o("WAWebAllMediaCollection").AllMediaCollection:null,x=T.current.length,$=r("useWAWebPrevious")(x),P=g(null),N=g(),M=g(),w=g(null),A=g(null),F=g(null),O=h(c),B=O[0],W=O[1],q=h(!1),U=q[0],V=q[1],H=h(R(B)),G=H[0],z=H[1],j=r("useWAWebPrevious")(B),K=function(t){t===void 0&&(t=!1);var e=A.current,n=F.current,o=w.current;if(!(!e||!n||!o)){var a=0;o instanceof HTMLElement&&(a=o.clientWidth/2-e.clientWidth/2),r("WAWebVelocityAnimate")(n,"stop");var i=0;t&&(i=300),r("WAWebVelocityAnimate")(o,"scroll",{duration:i,container:n,offset:a,axis:"x",easing:[.1,.82,.25,1]})}};f(function(){var e=function(t){t&&r("WAWebVelocityAnimate")(t,{opacity:[1,0],translateY:["0%","100%"]},{duration:300,delay:100,easing:[.1,.82,.25,1]}).then(function(){C.aborted||z(!1)})};K(),R(c)&&e(A.current)},[]),f(function(){x>($!=null?$:0)&&K()},void 0);var Q=_(function(e){b(function(){T.current.loadMoreAroundIfNeeded(e)}),W(e)},[T,b]),X=function(){var e=-1;if(!d||!B)return e;var t=B.id.toString();if(!d.has(t))return e;var n=0;return d.forEach(function(r){r===t&&(e=n),n++}),e},Y=function(n){var t,r=D!=null?D:T.current;if(n&&n.stopPropagation(),!U){var a=B;if(a){var i=null;if(i=r.getAfter(a),i){Q(i);return}T.current.hasMediaAfter&&(N.current||(N.current=(t=T.current.queryMedia({chat:o("WAWebFrontendMsgGetters").getChat(c),msg:c,direction:"after"}))==null?void 0:t.then(function(e){C.aborted||typeof(e==null?void 0:e.length)=="number"&&e.length>0&&B===c&&Y()}).catch(function(t){o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["query media msgs error: "]))).devConsole(t)}).finally(function(){N.current=null})))}}},J=function(t){var e,n=D!=null?D:T.current;if(t&&t.stopPropagation(),!U){var r=B;if(r){var a=null;if(a=n.getBefore(r),a){Q(a);return}T.current.hasMediaBefore&&(M.current||(M.current=(e=T.current.queryMedia({chat:o("WAWebFrontendMsgGetters").getChat(c),msg:c,direction:"before"}))==null?void 0:e.then(function(e){C.aborted||typeof(e==null?void 0:e.length)=="number"&&e.length>0&&B===c&&J()}).catch(function(e){o("WALogger").WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["query media msgs error: "]))).devConsole(e)}).finally(function(){M.current=null})))}}},Z=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){if(!e.defaultPrevented&&!(B&&!R(B))){var t=yield new(u||(u=n("Promise")))(function(e){o("WAWebModalManager").ModalManager.exists(e)});if(!(t&&D==null)){var a=r("WAWebL10N").isRTL();e.keyCode===r("Keys").LEFT?a?Y():J():e.keyCode===r("Keys").RIGHT&&(a?J():Y())}}});return function(n){return e.apply(this,arguments)}})(),ee=null;c.type===o("WAWebMsgType").MSG_TYPE.IMAGE&&(ee=function(){var e=I.current;if(e){var t,n=o("WAWebWamGroupMetadataMetricUtils_WORKER_INCOMPATIBLE").getGroupCountMetricsFromChatWid((t=o("WAWebFrontendMsgGetters").getChat(c))==null?void 0:t.id);n!=null&&e.set(n),e.markUiActionT(),e.commit(),I.current=null}o("WAWebWamPrivateStatsUtils").logUiActionShadowPrivateStatsTestEvents()});var te=function(t){V(t)},ne=function(){o("WAWebModalManager").ModalManager.closeMedia()},re=function(){var e=function(t){t&&r("WAWebVelocityAnimate")(t,{opacity:[0,1],translateY:["100%","0%"]},{duration:300,easing:[.1,.82,.25,1]})};R(c)&&e(A.current)},oe=function(){R(c)&&v({el:A.current,direction:"up"})},ae=function(){R(c)&&v({el:A.current,direction:"down"})},ie=r("useWAWebStableCallback")(function(){W(null),ne()});o("useWAWebListener").useListener(R(B)?null:B,"revoked",ie);var le=R(B)?T.current:null;o("useWAWebListener").useListener(le,"remove",function(e,t,n){var o=T.current,a=B;if(o.includes(e)||a!=null&&a.id!=null&&a.id.toString()!==e.id.toString()){S();return}var i=n.index;o.length===0?ne():o.length===i?Q(r("WANullthrows")(o.at(i-1))):Q(r("WANullthrows")(o.at(i)))}),o("useWAWebListener").useListener(le,"reset",function(){ne()}),o("useWAWebListener").useListener(le,"query_media_after",function(){S()}),o("useWAWebListener").useListener(le,"query_media_before",function(){var e=F.current;e&&(P.current=e.scrollWidth,e instanceof HTMLElement&&S())}),o("useWAWebListener").useListener(window,"keydown",Z),f(function(){b(function(){B&&T.current.loadMoreAroundIfNeeded(B)})},[B,T,b]),f(function(){if(j!==B)K(!0);else{var e=F.current;if(!e||P.current==null||P.current===0)return;e instanceof HTMLElement&&(e.scrollLeft+=e.scrollWidth-P.current),P.current=null}},[B,j]);var se=function(t,n,a){if(n.length!==0&&a!=null){if(n.hasMediaBefore&&a<t.clientWidth){var e=r("WANullthrows")(n.head());b(function(){n.queryMedia({chat:o("WAWebFrontendMsgGetters").getChat(e),msg:e}),S()})}if(n.hasMediaAfter&&a+o("WAWebFrontendConstants").SCROLL_FUDGE>t.scrollWidth-2*t.clientWidth){var i=r("WANullthrows")(n.last());b(function(){n.queryMedia({chat:o("WAWebFrontendMsgGetters").getChat(i),msg:i,direction:"after"}),S()})}}},ue=r("useWAWebThrottledCallback")(se,100),ce=function(t){ue(t.currentTarget,T.current,t.currentTarget.scrollLeft)},de=_(function(e){w.current=e},[]);if(!B)return null;if(!o("WAWebMsgGetters").getIsNewsletterMsg(c)&&o("WAWebFrontendMsgGetters").getChat(c).isSuspendedOrTerminated()&&o("WAWebMiscGatingUtils").isGroupSuspendV2Enabled()){o("WAWebSuspendedGroupUtils").openSuspendedGroupMediaDownloadFailureModal();return}var me=T.current,pe=D!=null?D:T.current,_e=pe.last(),fe=me.hasMediaAfter||B!==_e?Y:null,ge=pe.head(),he=me.hasMediaBefore||B!==ge?J:null;return p.jsx(o("WAWebMediaIncrementalZoom").MediaIncrementalZoomCtxProvider,{activeMsg:B,children:p.jsx(y.Provider,{value:U,children:p.jsxs("div",{className:U?"img-zoomed-in":null,children:[p.jsx(r("WAWebMediaViewerModal.react"),{msg:B,mediaData:B.mediaData,onBack:ne,onExitAnimation:re,onNext:fe,onPrev:he,onImgZoomIn:te,getZoomNode:t.getZoomNode,startTime:t.startTime,isAnimatingThumbs:G,onImageLoad:ee,msgIndexInAlbum:X(),albumSize:((i=t.highlightedMsgIds)==null?void 0:i.size)||0,shouldShowNumberText:(l=t.shouldShowNumberText)!=null?l:!1,shouldShowAllMedia:m}),o("WAWebMsgGetters").getHasThumbList(B)&&p.jsx(r("WAWebThumbList.react"),{activeMsg:B,mediaMsgs:D!=null?D:T.current,highlightedMsgIds:t.highlightedMsgIds,onSelectThumb:Q,onSetActiveThumb:de,onScroll:ce,setRefThumbsContainer:function(t){A.current=t},setRefThumbs:function(t){F.current=t},moveUpAnimation:oe,moveDownAnimation:ae})]})})})}S.displayName=S.name+" [from "+i.id+"]";function R(e){return e?o("WAWebMsgGetters").getHasThumbList(e):!0}l.MediaViewerFlowZoomContext=y,l.MediaViewerFlow=S}),98);
__d("WAWebMediaPanelHeaderTestIds",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({CLOSE_BUTTON:"media-panel-header-close-button",DELETE_BUTTON:"media-panel-header-delete-button",DOWNLOAD_BUTTON:"media-panel-header-download-button",EDIT_PDF_BUTTON:"media-panel-header-edit-pdf-button",FORWARD_BUTTON:"media-panel-header-forward-button",GO_TO_MESSAGE_BUTTON:"media-panel-header-go-to-message-button",KEEP_BUTTON:"media-panel-header-keep-button",MORE_MENU_BUTTON:"media-panel-header-more-menu-button",PIN_BUTTON:"media-panel-header-pin-button",REACTIONS_BUTTON:"media-panel-header-reactions-button",REPLY_BUTTON:"media-panel-header-reply-button",STAR_BUTTON:"media-panel-header-star-button",UNKEEP_BUTTON:"media-panel-header-unkeep-button",UNPIN_BUTTON:"media-panel-header-unpin-button",UNSTAR_BUTTON:"media-panel-header-unstar-button"}),l=e;i.default=l}),66);
__d("WAWebMediaViewerReportSpamPopupLoadable",["JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadable","WAWebLoadingDrawer.react","asyncToGeneratorRuntime","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react")),u=r("WAWebLazyLoadedRetriable")(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield r("JSResourceForInteraction")("WAWebMediaViewerReportSpamPopup.react").__setRef("WAWebMediaViewerReportSpamPopupLoadable").load();return e}),"WAWebMediaViewerReportSpamPopup"),c=r("WAWebLoadable")({loader:u,loading:function(t){return s.jsx(r("WAWebLoadingDrawer.react"),{error:!!t.error})}});l.WAWebMediaViewerReportSpamPopupLoadable=c}),98);
__d("WAWebReportNewsletterPostSpamButton.react",["fbt","WAWebDropdownItem.react","WAWebFrontendMsgGetters","WAWebModalManager","WAWebReportNewsletterPostPopup.react","WAWebSpamConstants","WAWebThumbsDownRefreshedIcon.react","react"],(function(t,n,r,o,a,i,l,s){var e,u=e||(e=r("react"));function c(e){var t=e.msg,n=o("WAWebFrontendMsgGetters").getChat(t),a=function(){o("WAWebModalManager").ModalManager.open(u.jsx(r("WAWebReportNewsletterPostPopup.react"),{chat:n,msg:t,spamFlow:o("WAWebSpamConstants").SpamFlow.MediaViewer}))};return u.jsx(o("WAWebDropdownItem.react").DropdownItem,{action:a,icon:u.jsx(o("WAWebThumbsDownRefreshedIcon.react").ThumbsDownRefreshedIcon,{}),children:s._(/*BTDS*/"Report")})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),226);
__d("WAWebSearchTheWebButton.react",["WAWebDropdownItem.react","WAWebModalManager","WAWebSearchRefreshedIcon.react","WAWebSearchTheWebCommonUtils","WAWebSearchTheWebEventLogger","WAWebWamEnumStwInteraction","WAWebWebSearchPopup.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.msg,n=e.entryPoint,a=e.stwFormat,i=e.messageType,l=function(){o("WAWebSearchTheWebEventLogger").logSTWEvent({stwEntryPoint:n,stwFormat:a,stwInteraction:o("WAWebWamEnumStwInteraction").STW_INTERACTION.ENTRY_POINT_CLICKED,messageType:i}),o("WAWebModalManager").ModalManager.open(s.jsx(r("WAWebWebSearchPopup.react"),{message:t,entryPoint:n,stwFormat:a}))};return s.jsx(o("WAWebDropdownItem.react").DropdownItem,{action:l,icon:s.jsx(o("WAWebSearchRefreshedIcon.react").SearchRefreshedIcon,{}),children:o("WAWebSearchTheWebCommonUtils").getHFMHeaderCTAText()})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("WAWebSendForAdminReviewButton.react",["fbt","WAWebDropdownItem.react","WAWebFrontendMsgGetters","WAWebModalManager","WAWebReportToAdminEventsLogger","WAWebReportToAdminPopup.react","WAWebThumbsDownRefreshedIcon.react","WAWebWamEnumReportToAdminInteraction","react"],(function(t,n,r,o,a,i,l,s){var e,u=e||(e=r("react"));function c(e){var t=e.msg,n=function(){o("WAWebReportToAdminEventsLogger").logRTAReportingEvent({reportToAdminInteraction:o("WAWebWamEnumReportToAdminInteraction").REPORT_TO_ADMIN_INTERACTION.CLICK_SEND_FOR_ADMIN_REVIEW,groupId:o("WAWebFrontendMsgGetters").getChat(t).id.user}),o("WAWebModalManager").ModalManager.open(u.jsx(r("WAWebReportToAdminPopup.react"),{msg:t}))};return u.jsx(o("WAWebDropdownItem.react").DropdownItem,{action:n,icon:u.jsx(o("WAWebThumbsDownRefreshedIcon.react").ThumbsDownRefreshedIcon,{}),children:s._(/*BTDS*/"Send for admin review")})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),226);
__d("WDSIconIcBookmark.react",["WDSSvgComponentBase.react","react","stylex"],(function(t,n,r,o,a,i,l){var e=["iconXstyle","height","width","viewBox"],s,u,c=s||(s=r("react")),d="ic-bookmark";function m(t){var n=t.iconXstyle,o=t.height,a=t.width,i=t.viewBox,l=babelHelpers.objectWithoutPropertiesLoose(t,e),s;if(i){var m=i.x,p=m===void 0?0:m,_=i.y,f=_===void 0?0:_,g=i.width,h=g===void 0?0:g,y=i.height,C=y===void 0?0:y;s=[p,f,h,C].join(" ")}var b=24,v=24;return(o!=null||a!=null)&&(b=o,v=a),c.jsx(r("WDSSvgComponentBase.react"),babelHelpers.extends({},l,{children:c.jsxs("svg",{viewBox:s!=null?s:"0 0 24 24",height:b,width:v,preserveAspectRatio:"xMidYMid meet",className:(u||(u=r("stylex")))(n),fill:"none",children:[c.jsx("title",{children:d}),c.jsx("path",{d:"M12 18L7.8 19.8C7.13333 20.0833 6.5 20.0292 5.9 19.6375C5.3 19.2458 5 18.6917 5 17.975V5C5 4.45 5.19583 3.97917 5.5875 3.5875C5.97917 3.19583 6.45 3 7 3H17C17.55 3 18.0208 3.19583 18.4125 3.5875C18.8042 3.97917 19 4.45 19 5V17.975C19 18.6917 18.7 19.2458 18.1 19.6375C17.5 20.0292 16.8667 20.0833 16.2 19.8L12 18ZM12 15.8L17 17.95V5H7V17.95L12 15.8Z",fill:"currentColor"})]})}))}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("WDSIconIcOpenInNew.react",["WDSSvgComponentBase.react","react","stylex"],(function(t,n,r,o,a,i,l){var e=["iconXstyle","height","width","viewBox"],s,u,c=s||(s=r("react")),d="ic-open-in-new";function m(t){var n=t.iconXstyle,o=t.height,a=t.width,i=t.viewBox,l=babelHelpers.objectWithoutPropertiesLoose(t,e),s;if(i){var m=i.x,p=m===void 0?0:m,_=i.y,f=_===void 0?0:_,g=i.width,h=g===void 0?0:g,y=i.height,C=y===void 0?0:y;s=[p,f,h,C].join(" ")}var b=24,v=24;return(o!=null||a!=null)&&(b=o,v=a),c.jsx(r("WDSSvgComponentBase.react"),babelHelpers.extends({},l,{children:c.jsxs("svg",{viewBox:s!=null?s:"0 0 24 24",height:b,width:v,preserveAspectRatio:"xMidYMid meet",className:(u||(u=r("stylex")))(n),fill:"none",children:[c.jsx("title",{children:d}),c.jsx("path",{d:"M5 21C4.45 21 3.97917 20.8042 3.5875 20.4125C3.19583 20.0208 3 19.55 3 19V5C3 4.45 3.19583 3.97917 3.5875 3.5875C3.97917 3.19583 4.45 3 5 3H11C11.2833 3 11.5208 3.09583 11.7125 3.2875C11.9042 3.47917 12 3.71667 12 4C12 4.28333 11.9042 4.52083 11.7125 4.7125C11.5208 4.90417 11.2833 5 11 5H5V19H19V13C19 12.7167 19.0958 12.4792 19.2875 12.2875C19.4792 12.0958 19.7167 12 20 12C20.2833 12 20.5208 12.0958 20.7125 12.2875C20.9042 12.4792 21 12.7167 21 13V19C21 19.55 20.8042 20.0208 20.4125 20.4125C20.0208 20.8042 19.55 21 19 21H5ZM19 6.4L10.4 15C10.2167 15.1833 9.98333 15.275 9.7 15.275C9.41667 15.275 9.18333 15.1833 9 15C8.81667 14.8167 8.725 14.5833 8.725 14.3C8.725 14.0167 8.81667 13.7833 9 13.6L17.6 5H15C14.7167 5 14.4792 4.90417 14.2875 4.7125C14.0958 4.52083 14 4.28333 14 4C14 3.71667 14.0958 3.47917 14.2875 3.2875C14.4792 3.09583 14.7167 3 15 3H20C20.2833 3 20.5208 3.09583 20.7125 3.2875C20.9042 3.47917 21 3.71667 21 4V9C21 9.28333 20.9042 9.52083 20.7125 9.7125C20.5208 9.90417 20.2833 10 20 10C19.7167 10 19.4792 9.90417 19.2875 9.7125C19.0958 9.52083 19 9.28333 19 9V6.4Z",fill:"currentColor"})]})}))}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("WDSIconWdsIcBookmarkSlash.react",["WDSSvgComponentBase.react","react","stylex"],(function(t,n,r,o,a,i,l){var e=["iconXstyle","height","width","viewBox"],s,u,c=s||(s=r("react")),d="wds-ic-bookmark-slash";function m(t){var n=t.iconXstyle,o=t.height,a=t.width,i=t.viewBox,l=babelHelpers.objectWithoutPropertiesLoose(t,e),s;if(i){var m=i.x,p=m===void 0?0:m,_=i.y,f=_===void 0?0:_,g=i.width,h=g===void 0?0:g,y=i.height,C=y===void 0?0:y;s=[p,f,h,C].join(" ")}var b=24,v=24;return(o!=null||a!=null)&&(b=o,v=a),c.jsx(r("WDSSvgComponentBase.react"),babelHelpers.extends({},l,{children:c.jsxs("svg",{viewBox:s!=null?s:"0 0 24 24",height:b,width:v,preserveAspectRatio:"xMidYMid meet",className:(u||(u=r("stylex")))(n),fill:"none",children:[c.jsx("title",{children:d}),c.jsx("path",{d:"M17 5V13.5859L19 15.5859V5C19 3.89543 18.1046 3 17 3H7C6.8208 3 6.6471 3.02357 6.48184 3.06778L8.41406 5H17Z",fill:"currentColor"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 6.41421V18C5 19.4149 6.42905 20.3824 7.74278 19.857L12 18.1541L16.2572 19.857C16.9442 20.1317 17.6627 19.9983 18.1919 19.6061L19.2929 20.7071C19.6834 21.0976 20.3166 21.0976 20.7071 20.7071C21.0976 20.3166 21.0976 19.6834 20.7071 19.2929L4.70711 3.29289C4.31658 2.90237 3.68342 2.90237 3.29289 3.29289C2.90237 3.68342 2.90237 4.31658 3.29289 4.70711L5 6.41421ZM7 8.41421L16.3096 17.7239L12 16L7 18V8.41421Z",fill:"currentColor"})]})}))}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("WAWebMediaPanelHeader.react",["fbt","$InternalEnum","WALogger","WAPromiseDelays","WAWebCellFrame.react","WAWebChatGetters","WAWebChatMessageSearch","WAWebChatRefreshedIcon.react","WAWebClock","WAWebCmd","WAWebColumnChangeDispatch","WAWebCommentsModal.react","WAWebComposeBoxActions","WAWebConfirmPopup.react","WAWebCopyToClipboard","WAWebDebugGatingUtils","WAWebDeleteRevokeMsgFlow.react","WAWebDetailImage.react","WAWebDevOnlyBadge.react","WAWebDrawerManager","WAWebDrawerManagerContext","WAWebDropdown.react","WAWebDropdownItem.react","WAWebDropdownItemSeparator.react","WAWebEmojiText.react","WAWebEnvironment","WAWebFbtCommon","WAWebFileSaver","WAWebFlex.react","WAWebForwardMessageModalLoadable","WAWebFrontendChatGetters","WAWebFrontendMsgGetters","WAWebIcCloseIcon.react","WAWebIcDownloadIcon.react","WAWebIcShareWindowsIcon.react","WAWebInfoRefreshedIcon.react","WAWebKeepInChatActions","WAWebLaunchIcon.react","WAWebMediaDocumentUtils","WAWebMediaIncrementalZoom","WAWebMediaPanelHeader.styles","WAWebMediaPanelHeaderTestIds","WAWebMediaTypes","WAWebMediaViewerConstants","WAWebMediaViewerFlow.react","WAWebMediaViewerReportSpamPopupLoadable","WAWebMenuBar.react","WAWebMessageAssociation.flow","WAWebMessageMeta.react","WAWebModalManager","WAWebMsgActionCapability","WAWebMsgGetters","WAWebMsgReply","WAWebMsgType","WAWebMsgViewCount","WAWebNewsletterGatingUtils","WAWebNewsletterMembershipUtil","WAWebPinInChatCollection","WAWebPinMessageModal.react","WAWebPinnedMessagesUserJourneyLogger","WAWebProtobufsE2E.pb","WAWebReactionUserJourneyLogger","WAWebReactionsPanel.react","WAWebReactionsUtils","WAWebReplyPrivatelyRefreshedIcon.react","WAWebReplyToMsgChatAction","WAWebReportGatingUtils","WAWebReportNewsletterPostSpamButton.react","WAWebRevokeMetricUtils","WAWebSearchTheWebButton.react","WAWebSearchTheWebCommonUtils","WAWebSearchTheWebEventLogger","WAWebSendForAdminReviewButton.react","WAWebSendPinMessageAction","WAWebSendReactionMsgAction","WAWebSendReactionsTray.react","WAWebSendReactionsTrayContainer.react","WAWebSendSpamChatAction","WAWebSpamConstants","WAWebStateUtils","WAWebTPPdfViewerGatingUtils","WAWebThumbsDownRefreshedIcon.react","WAWebUimUie.react","WAWebUimUieMenu.react","WAWebWamEnumKicEntryPointType","WAWebWamEnumReactionUserJourneyEntryPoint","WAWebWamEnumStwEntryPoint","WAWebWamEnumStwInteraction","WDSIconIcArrowForward.react","WDSIconIcBookmark.react","WDSIconIcDelete.react","WDSIconIcForward.react","WDSIconIcGrade.react","WDSIconIcMood.react","WDSIconIcMoreVert.react","WDSIconIcOpenInNew.react","WDSIconIcPushPin.react","WDSIconIcReply.react","WDSIconWdsIcBookmarkSlash.react","WDSIconWdsIcGradeSlash.react","WDSIconWdsIcPushPinSlash.react","WDSIconWdsIcViewOnce.react","WDSMenuBarItem.react","cr:12529","cr:13786","cr:23046","cr:7565","react","requireDeferred","stylex","useWAWebIsPinnedMsg","useWAWebListener","useWAWebModelValues","useWAWebMsgValues","useWAWebStableCallback"],(function(t,n,r,o,a,i,l,s){var e,u,c,d,m,p,_,f,g,h,y=h||(h=o("react")),C=f||(f=r("react")),b=y.useContext,v=y.useRef,S=y.useState,R=r("requireDeferred")("WAWebAusOSAReportModalTrigger").__setRef("WAWebMediaPanelHeader.react"),L=n("$InternalEnum").Mirrored(["MenuBar","Dropdown"]);function E(e){var t=o("WAWebFrontendMsgGetters").getChat(e);o("WAWebFrontendChatGetters").getIsCAG(t)?o("WAWebModalManager").ModalManager.open(C.jsx(r("WAWebCommentsModal.react"),{parentMsgs:[e]})):(t.composeQuotedMsg=e,o("WAWebComposeBoxActions").ComposeBoxActions.focus(t))}function k(e){return s._(/*BTDS*/"Report {contact_name}",[s._param("contact_name",e.displayName())])}k.displayName=k.name+" [from "+i.id+"]";function I(e){return o("WAWebMsgGetters").getIsSentByMe(e)||o("WAWebNewsletterMembershipUtil").iAmAdminOrOwner(o("WAWebFrontendMsgGetters").getChat(e).newsletterMetadata)}function T(t){var a,i=t.msg,l=t.onHightlightCloseEnd,s=t.msgIndexInAlbum,c=t.onViewOnceInfoClick,d=t.onClose,m=t.theme,p=m===void 0?"default":m,_=v(null),f=o("useWAWebMsgValues").useMsgValues(t.msg.id,[o("WAWebMsgGetters").getId,o("WAWebMsgGetters").getStar,o("WAWebMsgGetters").getType,o("WAWebMsgGetters").getIsGif,o("WAWebMsgGetters").getIsViewOnce,o("WAWebMsgGetters").getSender,o("WAWebFrontendMsgGetters").getSenderObj,o("WAWebMsgGetters").getT,o("WAWebMsgGetters").getIsSentByMe,o("WAWebMsgGetters").getIsStickerMsg,o("WAWebMsgGetters").getBroadcastId,o("WAWebFrontendMsgGetters").getIsUnsentMedia,o("WAWebMsgGetters").getIsKept,o("WAWebMsgGetters").getMessageSecret,o("WAWebMsgGetters").getIsCarouselCard]),h=f[0],y=f[1],R=f[2],L=f[3],E=f[4],k=f[5],I=f[6],T=f[7],D=f[8],x=f[9],$=f[10],P=f[11],N=f[12],M=f[13],w=f[14],A=o("WAWebMsgViewCount").useWAWebLocalizedViewCount(i.id),F=o("WAWebFrontendMsgGetters").getChat(i),O=o("useWAWebModelValues").useModelValues(t.mediaData,["filehash","mediaStage","renderableUrl","filename","mimetype"]),B=S(null),W=B[0],q=B[1],U=S(null),V=U[0],H=U[1],G=v(null),z=v(!1),j=function(){q(null),z.current||o("WAWebReactionUserJourneyLogger").ReactionUserJourneyLogger.trayClose()},K=function(){H(null),o("WAWebReactionUserJourneyLogger").ReactionUserJourneyLogger.trayClose(),z.current=!1},Q=r("useWAWebStableCallback")(function(t){if(o("WAWebReactionsUtils").canReactToMessage(t)){var n=function(r){o("WAWebReactionUserJourneyLogger").ReactionUserJourneyLogger.reactionSelect(r),o("WAWebSendReactionMsgAction").sendReactionToMsg(t,r).catch(function(t){o("WALogger").DEV(e||(e=babelHelpers.taggedTemplateLiteralLoose(["sendReactionMsg picker: error ",""])),t)}),K()};H({dirY:o("WAWebDropdown.react").DirY.BOTTOM,dirX:o("WAWebDropdown.react").DirX.CENTER,type:o("WAWebDropdown.react").MenuType.ReactionPicker,menu:C.jsx(r("WAWebReactionsPanel.react"),{msgId:t.id.toString(),onSelection:n}),flipOnRTL:!0,anchor:G.current})}}),Y=function(){if(o("WAWebReactionsUtils").canReactToMessage(i)){var e=function(t){z.current=t===o("WAWebSendReactionsTray.react").MORE_REACTIONS,t!==o("WAWebSendReactionsTray.react").MORE_REACTIONS?(o("WAWebReactionUserJourneyLogger").ReactionUserJourneyLogger.reactionSelect(t),o("WAWebSendReactionMsgAction").sendReactionToMsg(i,t).catch(function(e){o("WALogger").DEV(u||(u=babelHelpers.taggedTemplateLiteralLoose(["sendReactionMsg: error sending from media modal ",""])),e)})):self.setTimeout(function(){Q(i)},150),j()},t={dirY:o("WAWebDropdown.react").DirY.BOTTOM,dirX:o("WAWebDropdown.react").DirX.CENTER,type:o("WAWebDropdown.react").MenuType.ReactionSendTray,menu:C.jsx(o("WAWebSendReactionsTrayContainer.react").SendReactionsTrayContainer,{msg:i,selectedCallback:e,userJourneyEntryPoint:o("WAWebWamEnumReactionUserJourneyEntryPoint").REACTION_USER_JOURNEY_ENTRY_POINT.MEDIA_VIEWER_REACTION_CTA}),flipOnRTL:!1,anchor:G.current};q(t)}};o("useWAWebListener").useListener(_.current,"animationend",function(){l()});var J=i.displayName({showShortName:!0,withPushName:!0}),Z=function(){return E||!o("WAWebMsgActionCapability").canDownloadMsg(i)?!1:!!O.renderableUrl||O.mediaStage===o("WAWebMediaTypes").MediaDataStage.RESOLVED},ee=function(){return C.jsx(o("WAWebIcCloseIcon.react").IcCloseIcon,{xstyle:t.isHighlightClose?r("WAWebMediaPanelHeader.styles").highlightClose:{},containerRef:_})},te;W?te=C.jsx(o("WAWebUimUie.react").UIE,{displayName:"MsgReaction",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:j,children:C.jsx(r("WAWebUimUieMenu.react"),{contextMenu:W})}):V&&(te=C.jsx(o("WAWebUimUie.react").UIE,{displayName:"MsgReactionPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:K,children:C.jsx(r("WAWebUimUieMenu.react"),{contextMenu:V})}));var ne=o("WAWebNewsletterGatingUtils").isNewsletterViewCountEnabled(F==null||(a=F.newsletterMetadata)==null?void 0:a.membershipType)&&A!=null?C.jsxs(o("WAWebFlex.react").FlexRow,{className:(g||(g=r("stylex")))(r("WAWebMediaPanelHeader.styles").viewCount),children:[o("WAWebClock").Clock.relativeDateAndTimeStr(T),C.jsx(o("WAWebMessageMeta.react").MetaBullet,{}),C.jsx("span",{children:A})]}):C.jsx(C.Fragment,{children:o("WAWebClock").Clock.relativeDateAndTimeStr(T)}),re=o("WAWebTPPdfViewerGatingUtils").isWebTPPdfViewerEnabledForMimeType(O.mimetype)?C.jsxs(o("WAWebFlex.react").FlexRow,{children:[C.jsx(o("WAWebEmojiText.react").EmojiText,{className:(g||(g=r("stylex")))(r("WAWebMediaPanelHeader.styles").author),ellipsify:!0,text:J}),C.jsx("div",{className:(g||(g=r("stylex")))(r("WAWebMediaPanelHeader.styles").dot),children:"\xB7"}),C.jsx(o("WAWebEmojiText.react").EmojiText,{className:(g||(g=r("stylex")))(r("WAWebMediaPanelHeader.styles").filename),ellipsify:!0,text:O.filename})]}):C.jsx(o("WAWebEmojiText.react").EmojiText,{ellipsify:!0,text:J}),oe=b(o("WAWebMediaViewerFlow.react").MediaViewerFlowZoomContext),ae=b(o("WAWebMediaIncrementalZoom").MediaIncrementalZoomCtx).isEnabled,ie=!ae&&oe;return C.jsxs("div",babelHelpers.extends({},(g||(g=r("stylex"))).props(r("WAWebMediaPanelHeader.styles").mediaPanelHeader,ie&&r("WAWebMediaPanelHeader.styles").mediaPanelHeaderHidden),{children:[C.jsx("div",babelHelpers.extends({},g.props(r("WAWebMediaPanelHeader.styles").info),{children:C.jsx(r("WAWebCellFrame.react"),{idle:!0,image:C.jsx(o("WAWebDetailImage.react").DetailImage,{id:k,size:40}),primary:re,secondary:ne,theme:"media"})})),C.jsx("div",babelHelpers.extends({},g.props(r("WAWebMediaPanelHeader.styles").mediaPanelTools),{children:C.jsxs(o("WAWebMenuBar.react").MenuBar,{theme:"strong",gap:"single",children:[n("cr:12529")&&o("WAWebTPPdfViewerGatingUtils").isWebTPPdfEditorEnabledForMimeType(O.mimetype)&&C.jsx(n("cr:12529"),{}),C.jsx(X,{isMediaDownloadable:Z,msg:i,msgIndexInAlbum:s,onClose:d,onViewOnceInfoClick:c,openReactionTray:Y,sendReactionButtonRef:G,theme:p}),C.jsx(r("WDSMenuBarItem.react"),{testid:void 0,icon:ee,title:r("WAWebFbtCommon")("Close"),onClick:t.onClose})]},"media-panel-header")})),te]}))}T.displayName=T.name+" [from "+i.id+"]";function D(e){var t=e.isMediaDownloadable,n=e.msg,r=e.onClose,a=e.openReactionTray,i=e.sendReactionButtonRef;return C.jsxs(C.Fragment,{children:[o("WAWebMsgReply").canReplyMsg(n)?C.jsx(M,{msg:n,onClose:r}):null,o("WAWebMsgActionCapability").canStarMsg(n)?C.jsx(H,{msg:n}):null,n.canShowKeepOrUnkeepOption()?C.jsx(V,{msg:n}):null,o("WAWebMsgActionCapability").canPinMsg(n)?C.jsx(G,{msg:n}):null,o("WAWebReactionsUtils").canReactToMessage(n)?C.jsx(U,{msg:n,openReactionTray:a,sendReactionButtonRef:i}):null,C.jsx(w,{msg:n,onClose:r}),o("WAWebMsgActionCapability").canForwardMsg(n)?C.jsx(z,{msg:n}):null,C.jsx(Y,{isMediaDownloadable:t,isAlbumMedia:!0,msg:n,onClose:r})]})}D.displayName=D.name+" [from "+i.id+"]";var x=function(){return(n("cr:23046")==null||n("cr:23046").isWindowsShareSheetEnabled==null?void 0:n("cr:23046").isWindowsShareSheetEnabled())===!0};function $(e){var t=e.isMediaDownloadable,a=e.msg,i=e.onClose,l=e.openReactionTray,s=e.sendReactionButtonRef,u=e.theme,c=u===void 0?"default":u;return C.jsxs(C.Fragment,{children:[!o("WAWebMsgGetters").getIsStickerMsg(a)&&!o("WAWebMsgGetters").getIsCarouselCard(a)?C.jsx(P,{msg:a,type:L.MenuBar,onClose:i,theme:c}):null,(o("WAWebMsgGetters").getIsStickerMsg(a)||o("WAWebMsgGetters").getIsMedia(a))&&!o("WAWebMsgGetters").getIsCarouselCard(a)&&!o("WAWebMsgGetters").getIsNewsletterMsg(a)?C.jsx(M,{msg:a,onClose:i}):null,o("WAWebMsgActionCapability").canStarMsg(a)?C.jsx(H,{msg:a}):null,o("WAWebMsgActionCapability").canPinMsg(a)?C.jsx(G,{msg:a}):null,a.canShowKeepOrUnkeepOption()?C.jsx(V,{msg:a}):null,o("WAWebMsgGetters").getIsStickerMsg(a)&&I(a)?C.jsx(w,{msg:a,onClose:i}):null,o("WAWebReactionsUtils").canReactToMessage(a)?C.jsx(U,{msg:a,openReactionTray:l,sendReactionButtonRef:s}):null,o("WAWebMsgActionCapability").canForwardMsg(a)?C.jsx(z,{msg:a}):null,o("WAWebMsgGetters").getIsStickerMsg(a)?null:C.jsx(A,{isMediaDownloadable:t,msg:a,type:L.MenuBar}),!o("WAWebMsgGetters").getIsStickerMsg(a)&&r("WAWebEnvironment").isWindows&&n("cr:7565")!=null&&t()&&!x()?C.jsx(O,{msg:a}):null,o("WAWebMsgActionCapability").canReportMsg(a)?C.jsx(Y,{isMediaDownloadable:t,isAlbumMedia:!1,msg:a,onClose:i}):null]})}$.displayName=$.name+" [from "+i.id+"]";function P(e){var t=e.msg,n=e.onClose,a=e.theme,i=a===void 0?"default":a,l=e.type,u=o("WAWebDrawerManagerContext").useDrawerManagerContext("right"),c=function(r){var e;r==null||r.stopPropagation(),n();var a=(e=u.existsDrawer())!=null?e:!1;a&&o("WAWebColumnChangeDispatch").Column.column===2&&o("WAWebDrawerManager").DrawerManager.closeDrawerRight();var i=o("WAWebChatMessageSearch").getSearchContext(o("WAWebFrontendMsgGetters").getChat(t),o("WAWebStateUtils").unproxy(t).id);o("WAWebCmd").Cmd.openChatAt({chat:o("WAWebFrontendMsgGetters").getChat(t),msgContext:i}).then(function(e){e&&(o("WAWebModalManager").ModalManager.close(),o("WAWebComposeBoxActions").ComposeBoxActions.focus(o("WAWebFrontendMsgGetters").getChat(t)))})},d=i==="media_hub"?o("WAWebChatRefreshedIcon.react").ChatRefreshedIcon:r("WDSIconIcArrowForward.react");return l===L.Dropdown?C.jsx(o("WAWebDropdownItem.react").DropdownItem,{action:c,icon:C.jsx(d,{}),children:s._(/*BTDS*/"Go to message")}):C.jsx(r("WDSMenuBarItem.react"),{testid:void 0,icon:d,title:s._(/*BTDS*/"Go to message"),onClick:c})}P.displayName=P.name+" [from "+i.id+"]";function N(e){var t=e.msg;return C.jsx(o("WAWebDropdownItem.react").DropdownItem,{addSpacing:!0,testid:void 0,action:function(){o("WAWebCopyToClipboard").copyTextToClipboard(t.id.toString())},children:C.jsx(o("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:"Copy Msg ID"})},"copy-id")}N.displayName=N.name+" [from "+i.id+"]";function M(e){var t=e.msg,n=e.onClose,a=function(r){n(),o("WAPromiseDelays").delayMs(o("WAWebMediaViewerConstants").CLOSE_ANIMATION_DURATION).then(E.bind(null,o("WAWebStateUtils").unproxy(t)))};return C.jsx(r("WDSMenuBarItem.react"),{testid:void 0,icon:r("WDSIconIcReply.react"),title:s._(/*BTDS*/"Reply"),onClick:a})}M.displayName=M.name+" [from "+i.id+"]";function w(e){var t=e.msg,n=e.onClose,a=function(a){o("WAWebModalManager").ModalManager.open(C.jsx(r("WAWebDeleteRevokeMsgFlow.react"),{chat:o("WAWebFrontendMsgGetters").getChat(t),msgList:[o("WAWebStateUtils").unproxy(t)],onDelete:n})),o("WAWebRevokeMetricUtils").UiRevokeActionHelper.startSession(),o("WAWebRevokeMetricUtils").UiRevokeActionHelper.messageSelected()};return C.jsx(r("WDSMenuBarItem.react"),{testid:void 0,icon:r("WDSIconIcDelete.react"),title:s._(/*BTDS*/"Delete"),onClick:a})}w.displayName=w.name+" [from "+i.id+"]";function A(e){var t=e.isMediaDownloadable,n=e.msg,a=e.type,i=function(t){t==null||t.stopPropagation(),o("WAWebFileSaver").FileSaver.initDownload(o("WAWebStateUtils").unproxy(n))};if(!t())return null;var l=r("WAWebEnvironment").isWindows?s._(/*BTDS*/"Save as..."):s._(/*BTDS*/"Download");return a===L.Dropdown?C.jsx(o("WAWebDropdownItem.react").DropdownItem,{action:i,disabled:!t(),icon:C.jsx(o("WAWebIcDownloadIcon.react").IcDownloadIcon,{}),children:l}):C.jsx(r("WDSMenuBarItem.react"),{testid:void 0,icon:o("WAWebIcDownloadIcon.react").IcDownloadIcon,title:l,disabled:!t(),onClick:i})}A.displayName=A.name+" [from "+i.id+"]";var F=function(t,r){t==null||t.stopPropagation(),n("cr:7565")==null||n("cr:7565").openMediaFile(r,function(e){o("WAWebMediaDocumentUtils").displayFileOpeningToast(e)}).catch(function(e){o("WALogger").ERROR(c||(c=babelHelpers.taggedTemplateLiteralLoose(["Error while opening media file: ",""])),e)})};function O(e){var t=e.msg,n=function(n){F(n,t)};return C.jsx(r("WDSMenuBarItem.react"),{icon:r("WDSIconIcOpenInNew.react"),title:s._(/*BTDS*/"Open with"),onClick:n})}O.displayName=O.name+" [from "+i.id+"]";function B(e){var t=function(n){F(n,e)},r=function(r){r.stopPropagation(),n("cr:7565")&&n("cr:7565").saveMediaFile(o("WAWebStateUtils").unproxy(e)).then(function(){if(n("cr:13786"))return n("cr:13786").shareFile(o("WAWebStateUtils").unproxy(e))}).catch(function(e){o("WALogger").ERROR(d||(d=babelHelpers.taggedTemplateLiteralLoose(["Error while sharing a message: ",""])),e)})},a=[C.jsx(o("WAWebDropdownItem.react").DropdownItem,{action:r,icon:C.jsx(o("WAWebIcShareWindowsIcon.react").IcShareWindowsIcon,{}),children:s._(/*BTDS*/"Share")},"share"),C.jsx(o("WAWebDropdownItem.react").DropdownItem,{action:t,icon:C.jsx(o("WAWebLaunchIcon.react").LaunchIcon,{}),children:s._(/*BTDS*/"Open with")},"open-with")];return a}function W(e){var t=e.sendReactionButtonRef;return C.jsx(r("WDSIconIcMood.react"),{containerRef:t})}W.displayName=W.name+" [from "+i.id+"]";function q(e){return function(){return C.jsx(W,{sendReactionButtonRef:e})}}function U(e){var t=e.msg,n=e.openReactionTray,a=e.sendReactionButtonRef;if(t.type===o("WAWebMsgType").MSG_TYPE.STICKER)return null;var i=q(a);return C.jsx(r("WDSMenuBarItem.react"),{testid:void 0,icon:i,title:s._(/*BTDS*/"React"),onClick:function(){n()}})}U.displayName=U.name+" [from "+i.id+"]";function V(e){var t=e.msg,n,a,i,l=o("useWAWebMsgValues").useMsgValues(t.id,[o("WAWebMsgGetters").getIsKept]),u=l[0],c=function(n){n==null||n.stopPropagation(),o("WAWebKeepInChatActions").runKeepInChatUX(o("WAWebStateUtils").unproxy(t),o("WAWebWamEnumKicEntryPointType").KIC_ENTRY_POINT_TYPE.MEDIA)},d=function(n){n==null||n.stopPropagation(),o("WAWebKeepInChatActions").runUndoKeepInChatUX(o("WAWebStateUtils").unproxy(t),o("WAWebWamEnumKicEntryPointType").KIC_ENTRY_POINT_TYPE.MEDIA)};if(u&&t.canShowUnkeepOption())n=r("WDSIconWdsIcBookmarkSlash.react"),a=d,i=s._(/*BTDS*/"Unkeep");else if(!u&&t.canShowKeepOption())n=r("WDSIconIcBookmark.react"),a=c,i=s._(/*BTDS*/"Keep");else return null;return C.jsx(r("WDSMenuBarItem.react"),{testid:void 0,icon:n,title:i,onClick:a},"keep-in-chat-button")}V.displayName=V.name+" [from "+i.id+"]";function H(e){var t=e.msg,n=o("useWAWebMsgValues").useMsgValues(t.id,[o("WAWebMsgGetters").getStar]),a=n[0],i,l,u;return a?(i=function(n){n==null||n.stopPropagation(),o("WAWebCmd").Cmd.sendUnstarMsgs(o("WAWebFrontendMsgGetters").getChat(t),[o("WAWebStateUtils").unproxy(t)])},l=r("WDSIconWdsIcGradeSlash.react"),u=s._(/*BTDS*/"_j{\"*\":\"Unstar messages\",\"_1\":\"Unstar message\"}",[s._plural(1)])):(i=function(n){n==null||n.stopPropagation(),o("WAWebCmd").Cmd.sendStarMsgs(o("WAWebFrontendMsgGetters").getChat(t),[o("WAWebStateUtils").unproxy(t)])},l=r("WDSIconIcGrade.react"),u=s._(/*BTDS*/"_j{\"*\":\"Star\"}",[s._plural(1)])),C.jsx(r("WDSMenuBarItem.react"),{testid:void 0,icon:l,title:u,onClick:i},"star-button")}H.displayName=H.name+" [from "+i.id+"]";function G(e){var t=e.msg,n,a,i,l=r("useWAWebIsPinnedMsg")(t.id),u=o("WAWebFrontendMsgGetters").getChat(t);return l?(n=function(n){n==null||n.stopPropagation();var e=o("WAWebPinInChatCollection").PinInChatCollection.getByParentMsgKey(t.id);new(o("WAWebPinnedMessagesUserJourneyLogger")).PinnedMessagesUserJourneyLogger(u).messageMenuClickUnpin(t,e),o("WAWebSendPinMessageAction").sendPinInChatMsg(t,o("WAWebProtobufsE2E.pb").Message$PinInChatMessage$Type.UNPIN_FOR_ALL).catch(function(e){o("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Error while unpinning a message: ",""])),e)})},a=r("WDSIconWdsIcPushPinSlash.react"),i=s._(/*BTDS*/"Unpin")):(n=function(n){n==null||n.stopPropagation();var e=new(o("WAWebPinnedMessagesUserJourneyLogger")).PinnedMessagesUserJourneyLogger(u);e.messageMenuClickPin(t),o("WAWebModalManager").ModalManager.open(C.jsx(r("WAWebPinMessageModal.react"),{msg:t,logger:e}))},a=r("WDSIconIcPushPin.react"),i=s._(/*BTDS*/"Pin")),C.jsx(r("WDSMenuBarItem.react"),{testid:void 0,icon:a,title:i,onClick:n},"pin-button")}G.displayName=G.name+" [from "+i.id+"]";function z(e){var t=e.msg,n=function(n){n==null||n.stopPropagation(),o("WAWebFrontendMsgGetters").getIsUnsentMedia(t)?o("WAWebModalManager").ModalManager.open(C.jsx(o("WAWebConfirmPopup.react").ConfirmPopup,{title:s._(/*BTDS*/"Can't forward"),onOK:function(){return o("WAWebModalManager").ModalManager.close()},okText:r("WAWebFbtCommon")("OK"),children:s._(/*BTDS*/"_j{\"*\":\"Wait until the messages finish sending and displays a checkmark before forwarding.\",\"_1\":\"Wait until the message finishes sending and displays a checkmark before forwarding.\"}",[s._plural(1)])})):o("WAWebModalManager").ModalManager.open(C.jsx(o("WAWebForwardMessageModalLoadable").ForwardMessageModalLoadable,{msgs:[o("WAWebStateUtils").unproxy(t)],onClose:function(){return o("WAWebModalManager").ModalManager.close()}}),{transition:"modal-flow"})};return C.jsx(r("WDSMenuBarItem.react"),{testid:void 0,icon:r("WDSIconIcForward.react"),title:s._(/*BTDS*/"Forward"),onClick:n})}z.displayName=z.name+" [from "+i.id+"]";function j(e){var t=e.msg,n=function(){r("WAWebReplyToMsgChatAction")(t)};return C.jsx(o("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:n,icon:C.jsx(o("WAWebReplyPrivatelyRefreshedIcon.react").ReplyPrivatelyRefreshedIcon,{}),children:s._(/*BTDS*/"Reply privately")})}j.displayName=j.name+" [from "+i.id+"]";function K(e){var t=e.msg,n=function(n){n?o("WAWebSendSpamChatAction").sendMessageReportBlock(t,o("WAWebSpamConstants").SpamFlow.MediaViewer):o("WAWebSendSpamChatAction").sendMessageReport(t,o("WAWebSpamConstants").SpamFlow.MediaViewer).then(function(e){o("WAWebModalManager").ModalManager.close(),e!=null&&o("WAWebReportGatingUtils").isAusOSAReportingEnabled()&&R.load().then(function(t){return t.WAWebAusOSAReportModalTrigger(e)}).catch(function(e){o("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Error opening Aus OSA modal while reporting a message from media viewer: ",""])),e).sendLogs("report-message-aus-osa-from-media-viewer-error")})}).catch(function(e){o("WALogger").ERROR(_||(_=babelHelpers.taggedTemplateLiteralLoose(["Error while reporting a message from media viewer: ",""])),e).sendLogs("report-message-from-media-viewer-error")})},r=function(){var e,r;o("WAWebModalManager").ModalManager.open(C.jsx(o("WAWebMediaViewerReportSpamPopupLoadable").WAWebMediaViewerReportSpamPopupLoadable,{isBusiness:t.senderObj.isBusiness,isGroup:o("WAWebChatGetters").getIsGroup(o("WAWebFrontendMsgGetters").getChat(t)),isBizBot3p:(e=(r=o("WAWebFrontendMsgGetters").getChat(t).contact.businessProfile)==null?void 0:r.isBizBot3p)!=null?e:!1,onReport:n,onCancel:function(){return o("WAWebModalManager").ModalManager.close()},title:k(t)}))};return C.jsx(o("WAWebDropdownItem.react").DropdownItem,{action:r,icon:C.jsx(o("WAWebThumbsDownRefreshedIcon.react").ThumbsDownRefreshedIcon,{}),children:k(t)})}K.displayName=K.name+" [from "+i.id+"]";function Q(e){var t=e.msg,n=e.onClose,r=function(r){n(),o("WAPromiseDelays").delayMs(o("WAWebMediaViewerConstants").CLOSE_ANIMATION_DURATION+250).then(o("WAWebCmd").Cmd.msgInfoDrawer.bind(o("WAWebCmd").Cmd,o("WAWebStateUtils").unproxy(t)))};return C.jsx(o("WAWebDropdownItem.react").DropdownItem,{action:r,icon:C.jsx(o("WAWebInfoRefreshedIcon.react").InfoRefreshedIcon,{}),children:s._(/*BTDS*/"Message info")})}Q.displayName=Q.name+" [from "+i.id+"]";function X(e){var t=e.isMediaDownloadable,n=e.msg,r=e.msgIndexInAlbum,a=e.onClose,i=e.onViewOnceInfoClick,l=e.openReactionTray,s=e.sendReactionButtonRef,u=e.theme,c=u===void 0?"default":u,d=b(o("WAWebMediaIncrementalZoom").MediaIncrementalZoomCtx),m=[];return d.isEnabled&&m.push(C.jsx(o("WAWebMediaIncrementalZoom").ZoomButton,{direction:"out"},"zoom-out"),C.jsx(o("WAWebMediaIncrementalZoom").ZoomButton,{direction:"in"},"zoom-in")),n.isViewOnce?m.push(C.jsx(J,{isMediaDownloadable:t,msg:n,onClose:a,onViewOnceInfoClick:i},"view-once")):r>=0&&n.associationType===o("WAWebMessageAssociation.flow").MessageAssociationType.MEDIA_ALBUM?m.push(C.jsx(D,{isMediaDownloadable:t,msg:n,onClose:a,openReactionTray:l,sendReactionButtonRef:s},"album")):m.push(C.jsx($,{isMediaDownloadable:t,msg:n,onClose:a,openReactionTray:l,sendReactionButtonRef:s,theme:c},"non-album")),m}X.displayName=X.name+" [from "+i.id+"]";function Y(e){var t=e.isAlbumMedia,n=e.isMediaDownloadable,a=e.msg,i=e.onClose,l=o("WAWebSearchTheWebCommonUtils").getSupportedSearchOptions(a),u;l.get(o("WAWebSearchTheWebCommonUtils").SearchType.IMAGE)!=null&&(u=o("WAWebSearchTheWebCommonUtils").getSTWFormat(l));var c=[];n()&&x()&&c.push.apply(c,B(a));var d=o("WAWebFrontendMsgGetters").getChat(a);(o("WAWebMsgReply").canPrivateReply(a)||o("WAWebMsgReply").canPrivateReplyInRestrictedGrp(a))&&c.push(C.jsx(j,{msg:a},"private_reply")),t&&(o("WAWebMsgGetters").getIsSentByMe(a)&&c.push(C.jsx(Q,{msg:a,onClose:i},"dropdownMsgInfo")),c.push(C.jsx(P,{msg:a,type:L.Dropdown,onClose:i},"dropdownGoToMsg"),C.jsx(A,{isMediaDownloadable:n,msg:a,type:L.Dropdown},"dropdownDownload"))),u!=null&&c.push(C.jsx(r("WAWebSearchTheWebButton.react"),{messageType:a.getWamMessageType(),msg:a,entryPoint:o("WAWebWamEnumStwEntryPoint").STW_ENTRY_POINT.MEDIA_VIEWER,stwFormat:u},"search_the_web"));var m=!o("WAWebChatGetters").getIsNewsletter(d)&&(a.isViewOnce||o("WAWebMsgActionCapability").canReportMsg(a)),p=o("WAWebChatGetters").getIsNewsletter(d)&&o("WAWebMsgActionCapability").canReportMsg(a);return p?c.push(C.jsx(r("WAWebReportNewsletterPostSpamButton.react"),{msg:a},"reportSpam")):m&&c.push(C.jsx(K,{msg:a},"reportSpam")),o("WAWebMsgActionCapability").canReportToAdmin(a)&&c.push(C.jsx(r("WAWebSendForAdminReviewButton.react"),{msg:a},"report_to_admin")),o("WAWebDebugGatingUtils").msgDebugMenuItemsEnabled()&&(c.push(C.jsx(r("WAWebDropdownItemSeparator.react"),{})),c.push(C.jsx(N,{msg:a}))),C.jsx(r("WDSMenuBarItem.react"),{testid:void 0,icon:r("WDSIconIcMoreVert.react"),title:s._(/*BTDS*/"Menu"),dropdownMenu:{menu:c,type:o("WAWebDropdown.react").MenuType.DropdownMenu,flipOnRTL:!0,dirX:o("WAWebDropdown.react").DirX.LEFT},onOpen:function(){u!=null&&o("WAWebSearchTheWebEventLogger").logSTWEvent({stwEntryPoint:o("WAWebWamEnumStwEntryPoint").STW_ENTRY_POINT.MEDIA_VIEWER,stwInteraction:o("WAWebWamEnumStwInteraction").STW_INTERACTION.ENTRY_POINT_SURFACED,stwFormat:u,messageType:a.getWamMessageType()})}})}Y.displayName=Y.name+" [from "+i.id+"]";function J(e){var t=e.isMediaDownloadable,n=e.msg,a=e.onClose,i=e.onViewOnceInfoClick;return C.jsxs(C.Fragment,{children:[C.jsx(o("WAWebMenuBar.react").MenuBarItem,{icon:C.jsx(r("WDSIconWdsIcViewOnce.react"),{iconXstyle:r("WAWebMediaPanelHeader.styles").voIcon}),title:s._(/*BTDS*/"View once info"),onClick:i}),C.jsx(Y,{isMediaDownloadable:t,isAlbumMedia:!1,msg:n,onClose:a})]})}J.displayName=J.name+" [from "+i.id+"]",l.default=T}),226);
__d("WAWebMediaSticker.react",["Promise","WAWebFirstPartyStickerInfo.react","WAWebFlex.react","WAWebImg.react","WAWebLottieSticker.react","WAWebMediaUrlProvider","WAWebMediaViewerStyles","WAWebMediaZoomable.react","WAWebNewsletterCollection","WAWebNewsletterMembershipUtil","WAWebStickerDetailsStickerPackInfo.react","WAWebStickerLikeMsgPlaceholder.react","WAWebStickerModel","WAWebStickerUtils","WAWebWamEnumWebcRmrReasonCode","react","stylex","useMergeRefs","useWAWebModelValues"],(function(t,n,r,o,a,i,l){var e=["ref"],s,u,c,d,m=d||(d=r("react")),p=(c||(c=o("react"))).useRef,_=376,f={container:{width:"xh8yej3",height:"x5yr21d",$$css:!0}};function g(t){var a=t.ref,i=babelHelpers.objectWithoutPropertiesLoose(t,e),l=i.msg,c=o("useWAWebModelValues").useModelValues(i.mediaData,["encFilehash","directPath","filehash","mediaKey","mediaKeyTimestamp","mediaStage","mimetype","fullWidth","fullHeight","isFirstParty","isAvatar","stickerPackId","stickerPackName","stickerPackPublisher","extractedLottieSticker","accessibilityLabel"]),d=p(null),g=r("useMergeRefs")(a,d),h=function(t){var e;(e=d.current)==null||e.onClick(t)},y=function(){return l?l.downloadMedia({downloadEvenIfExpensive:!1,rmrReason:o("WAWebWamEnumWebcRmrReasonCode").WEBC_RMR_REASON_CODE.MEDIA_VIEWER,isUserInitiated:!1}):(s||(s=n("Promise"))).resolve()},C=r("WAWebNewsletterCollection").getActive(),b=o("WAWebNewsletterMembershipUtil").iAmAdminOrOwner(C==null?void 0:C.newsletterMetadata),v=c.isFirstParty===!0?m.jsx(r("WAWebFirstPartyStickerInfo.react"),{stickerPackId:c.stickerPackId,onStickerPackView:i.onStickerPackView,stickerPackViewDelay:i.stickerPackViewDelay,showViewPackButton:C!=null?c.isAvatar!==!0&&b:c.isAvatar!==!0,sticker:new(o("WAWebStickerModel")).StickerModel({id:c.filehash,mimetype:c.mimetype,width:c.fullWidth,height:c.fullHeight,filehash:c.filehash,encFilehash:c.encFilehash,directPath:c.directPath,mediaKey:c.mediaKey,mediaKeyTimestamp:c.mediaKeyTimestamp})}):m.jsx(o("WAWebStickerDetailsStickerPackInfo.react").StickerDetailsStickerPackInfo,{name:c.stickerPackName,publisher:c.stickerPackPublisher,theme:o("WAWebStickerDetailsStickerPackInfo.react").Theme.MediaViewer,sticker:new(o("WAWebStickerModel")).StickerModel({id:c.filehash,mimetype:c.mimetype,width:c.fullWidth,height:c.fullHeight,filehash:c.filehash,encFilehash:c.encFilehash,directPath:c.directPath,mediaKey:c.mediaKey,mediaKeyTimestamp:c.mediaKeyTimestamp})}),S=m.jsx(r("WAWebMediaUrlProvider"),{mediaData:c,placeholderRenderer:function(){return m.jsx(r("WAWebStickerLikeMsgPlaceholder.react"),{size:_})},downloadMedia:y,children:function(t){return m.jsx(r("WAWebImg.react"),{className:(u||(u=r("stylex")))(r("WAWebMediaViewerStyles").content),onClick:h,src:t,onLoad:i.onLoad})}});return o("WAWebStickerUtils").getStickerFileType(c.mimetype)===o("WAWebStickerUtils").StickerFileType.LOTTIE&&(S=m.jsx(r("WAWebLottieSticker.react"),{className:"",mediaData:c,startAnimation:!0,onClick:h,placeholderRenderer:function(){return null},downloadMedia:y})),m.jsxs(o("WAWebFlex.react").FlexColumn,{align:"center",justify:"center",xstyle:f.container,children:[m.jsx("div",{className:"xh8yej3 x5yr21d xlnrm6 xjkwb7i x1iymm2a xupqr0c","data-testid":void 0,children:m.jsx(r("WAWebMediaZoomable.react"),{ref:g,width:c.fullWidth,height:c.fullHeight,onZoomIn:i.onImgZoomIn,msg:l,children:S})}),v]})}g.displayName=g.name+" [from "+i.id+"]",l.default=g}),98);
__d("WAWebMediaViewerCaption.react",["WAWebFormatConfiguration","WAWebMsgLinks","WAWebMsgPhoneNumbers"],(function(t,n,r,o,a,i,l){function e(e){var t=e.msg,n=e.id;return o("WAWebFormatConfiguration").Conversation({mentions:t.mentionMap(),groupMentions:t.groupMentionMap(),phoneNumbers:o("WAWebMsgPhoneNumbers").getPhoneNumbersFromMsg(t),links:o("WAWebMsgLinks").getLinksFromMsg(t),trusted:!0,fromMe:n.fromMe,fromChatWid:n.remote,parseLists:!0,parseQuotes:!0,parseInlineCode:!0})}l.getCaptionFormatters=e}),98);
__d("WAWebMediaViewerMediaVideo.react",["fbt","WAWebAddOnBubbleType","WAWebAddOnBubblesContainer.react","WAWebAnnotation.react","WAWebBlurredImage.react","WAWebGetDisplayType","WAWebMediaTypes","WAWebMediaViewerStyles","WAWebMsgGetters","WAWebNoop","WAWebObjectFit.react","WAWebPipConst","WAWebPipFloatingVideoPlayer.react","WAWebPipMsgVideoPlayer.react","WAWebReactionsUtils","WAWebUIRefreshGatingUtils","WAWebVideo.react","WAWebVideoUtils","WAWebWamEnumWebcRmrReasonCode","isNonZeroNumber","react","stylex","useWAWebModelValues"],(function(t,n,r,o,a,i,l,s){var e=["ref"],u,c,d,m=d||(d=o("react")),p=u||(u=r("react")),_=m.useEffect,f=m.useImperativeHandle,g=m.useMemo,h=m.useRef,y=m.useState;function C(t){var n,a=t.ref,i=babelHelpers.objectWithoutPropertiesLoose(t,e),l=i.autoPlay,u=i.msg,d=i.onLoad,m=i.onClose,C=i.onLoadedData,S=i.startTime,R=S===void 0?0:S,L=o("useWAWebModelValues").useModelValues(i.mediaData,["mediaStage","fullWidth","fullHeight","isGif","isViewOnce","preview","renderableUrl","streamable"]),E=y(!1),k=E[0],I=E[1],T=y(!0),D=T[0],x=T[1],$=h(),P=g(function(){return(L.mediaStage===o("WAWebMediaTypes").MediaDataStage.RESOLVED||o("WAWebVideoUtils").isMsgStreamable(u))&&o("isNonZeroNumber").isNonZeroNumber(L.fullWidth)&&o("isNonZeroNumber").isNonZeroNumber(L.fullHeight)?b(L):{width:0,height:0}},[L,u]);_(function(){if(!o("WAWebVideoUtils").isMsgStreamable(u))return u.downloadMedia({downloadEvenIfExpensive:!0,rmrReason:o("WAWebWamEnumWebcRmrReasonCode").WEBC_RMR_REASON_CODE.MEDIA_VIEWER,isUserInitiated:!0}),function(){u.mediaObject&&u.cancelDownload()}},[]);var N=function(t){I(t)};f(a,function(){return{getContainerElement:function(){return $.current},closingMedia:function(){x(!1)}}});var M=L.isGif,w=L.mediaStage===o("WAWebMediaTypes").MediaDataStage.RESOLVED||o("WAWebVideoUtils").isMsgStreamable(u);w=w||u!=null&&u.isForcingRMR();var A=null,F=o("WAWebGetDisplayType").getDisplayType(u),O=o("WAWebAddOnBubbleType").AddOnBubbleType.MEDIA_VIEWER;if(u&&o("WAWebReactionsUtils").shouldShowReactionBubble(u,O)&&(A=p.jsx(r("WAWebAddOnBubblesContainer.react"),{isOutgoingMsg:o("WAWebMsgGetters").getIsSentByMe(u),displayType:F,bubbleType:O,parentIds:[u.id.toString()],displayReactionBubble:D})),w){var B=o("WAWebUIRefreshGatingUtils").checkIfShouldBeEnabledInWindowsEnv()?s._(/*BTDS*/"Video playback is not supported on this device."):s._(/*BTDS*/"Your browser doesn't support video playback."),W;!k&&u!=null&&u.interactiveAnnotations&&u.interactiveAnnotations.length>0&&(W=p.jsx(r("WAWebAnnotation.react"),{annotations:u.interactiveAnnotations}));var q;return M?q=p.jsxs("div",babelHelpers.extends({},(c||(c=r("stylex"))).props(r("WAWebMediaViewerStyles").content),{ref:$,"data-testid":void 0,children:[p.jsx(r("WAWebVideo.react"),{src:L.renderableUrl,onClick:v,autoPlay:!0,loop:!0,onLoadedData:C,children:B}),W]})):q=p.jsx("div",babelHelpers.extends({ref:$},(c||(c=r("stylex"))).props(r("WAWebMediaViewerStyles").content),{onClick:v,"data-testid":void 0,children:p.jsx(o("WAWebPipMsgVideoPlayer.react").WrappedMsgVideoPlayer,{msg:u,mediaData:L,startTime:R,onClose:m,onError:r("WAWebNoop"),onFullscreenToggle:N,autoPlay:l,type:o("WAWebPipConst").PlayerType.MEDIA_VIEWER,overlays:W,noPip:u==null?void 0:u.isViewOnce,onLoadedData:C})})),p.jsxs(r("WAWebObjectFit.react"),{type:"scaleDown",position:"relative",objectPosition:"relative",size:P,onObjectLoad:d,children:[q,A]})}return p.jsxs(r("WAWebObjectFit.react"),{type:"scaleDown",position:"relative",objectPosition:"relative",size:{width:L.fullWidth,height:L.fullHeight},children:[p.jsx(r("WAWebBlurredImage.react"),{altText:(n=u.caption)!=null?n:"",mediaData:L}),A]})}C.displayName=C.name+" [from "+i.id+"]";function b(e){if(e.isGif){var t=330;return e.fullWidth>=t?{width:e.fullWidth,height:e.fullHeight}:{width:t,height:e.fullHeight*t/e.fullWidth}}return e.fullWidth>=o("WAWebPipFloatingVideoPlayer.react").MIN_WIDTH?{width:e.fullWidth,height:e.fullHeight}:{width:o("WAWebPipFloatingVideoPlayer.react").MIN_WIDTH,height:e.fullHeight}}function v(e){e.stopPropagation()}l.default=C}),226);
__d("WAWebMediaViewerShortcuts.react",["fbt","WALogger","WAWebEnvironment","WAWebFileSaver","WAWebStateUtils","WAWebToast.react","WAWebToastManager","asyncToGeneratorRuntime","cr:7565","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=u||(u=r("react")),p=d.useCallback,_=d.useEffect,f=d.useMemo;function g(t){var a=p(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){n("cr:7565")&&n("cr:7565").copyMediaFile(o("WAWebStateUtils").unproxy(t)).then(function(e){o("WAWebToastManager").ToastManager.open(m.jsx(o("WAWebToast.react").Toast,{msg:s._(/*BTDS*/"Image copied: {fileName}",[s._param("fileName",e)])}))}).catch(function(t){o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Error while copying image: ",""])),t)})}),[t]),i=f(function(){return{s:function(){o("WAWebFileSaver").FileSaver.initDownload(o("WAWebStateUtils").unproxy(t))},c:function(){a()}}},[a,t]),l=p(function(e){if(e.ctrlKey){var t=e.key,n=i[t];n!=null&&(e.preventDefault(),n(e))}},[i]);_(function(){var e=r("WAWebEnvironment").isWindows;if(e)return window.addEventListener("keydown",l),function(){window.removeEventListener("keydown",l)}},[l,t])}l.useMediaViewerShortcuts=g}),226);
__d("WAWebWdsIllViewOncePhotoIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(t,n,r,o,a,i,l){var e=["iconXstyle","height","width","name","viewBox"],s,u,c=s||(s=r("react")),d="wds-ill-view-once-photo";function m(t){var n=t.iconXstyle,a=t.height,i=t.width,l=t.name,s=t.viewBox,m=babelHelpers.objectWithoutPropertiesLoose(t,e),p;if(s){var _=s.x,f=_===void 0?0:_,g=s.y,h=g===void 0?0:g,y=s.width,C=y===void 0?0:y,b=s.height,v=b===void 0?0:b;p=[f,h,C,v].join(" ")}var S=120,R=180;return(a!=null||i!=null)&&(S=a,R=i),c.jsx(o("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers.extends({name:l!=null?l:d},m,{children:c.jsxs("svg",{viewBox:p!=null?p:"0 0 180 120",height:S,width:R,preserveAspectRatio:"xMidYMid meet",className:(u||(u=r("stylex")))(n),version:"1.1",id:"Layer_1",x:"0",y:"0",children:[c.jsx("title",{children:l!=null?l:d}),c.jsx("style",{children:".st0{fill:#25d366;stroke:#111b21;stroke-width:1.4412;stroke-linecap:round;stroke-miterlimit:10}.st2,.st4{fill:#e6ffda;stroke:#111b21;stroke-width:1.5}.st4{fill:#fcf5eb;stroke-miterlimit:10}.st6{fill:#0a0a0a}"}),c.jsx("path",{className:"st0",d:"M82 1.3H33.2c-8.7 0-15.8 7.1-15.8 15.8V103c0 8.7 7.1 15.8 15.8 15.8h48.9c8.7 0 15.8-7.1 15.8-15.8V17.2C97.8 8.4 90.7 1.3 82 1.3z"}),c.jsx("path",{className:"st0",d:"M97.8 95.7V17.1c0-8.6-7-15.6-15.6-15.6H40.3c-8.6 0-15.6 7-15.6 15.6v78.7c0 8.7 5 15.8 15.8 15.8h41.6c8.3 0 15.7-7.1 15.7-15.9q0 0 0 0z"}),c.jsx("path",{className:"st0",d:"M61.2 103c5 0 9-2.2 9-4.8s-4-4.8-9-4.8-9 2.2-9 4.8 4 4.8 9 4.8z"}),c.jsx("path",{d:"M55.6 14.4H67",fill:"none",stroke:"#111b21",strokeWidth:1.441,strokeLinecap:"round",strokeMiterlimit:10}),c.jsx("path",{className:"st2",d:"M133.8 86.3H73.3c-3.5 0-6.1-.8-7.7-2.5-1.6-1.6-2.6-4.1-2.6-7.5V33.6c0-3.5.9-6 2.6-7.6 1.6-1.6 4.1-2.5 7.7-2.5h60.5c3.6 0 6.1.9 7.7 2.5s2.5 4.1 2.5 7.6v42.7c0 3.5-.9 6-2.5 7.5-1.7 1.7-4.3 2.5-7.7 2.5z"}),c.jsx("path",{d:"M143.6 75.6 121.7 55c-1.6-1.4-3.6-2.3-5.5-2.3-2.1 0-3.8.7-5.5 2.3L93.9 69.9l-6.8-6.2c-1.5-1.4-3.3-2.1-5-2.1-1.6 0-3.2.6-4.7 2.1L63.3 76.3",fill:"none",stroke:"#111b21",strokeWidth:1.5}),c.jsx("path",{className:"st2",d:"M96.6 47.1c0 4.1-3.4 7.5-7.4 7.5-4.1 0-7.5-3.4-7.5-7.5s3.4-7.5 7.5-7.5c4 0 7.4 3.3 7.4 7.5z"}),c.jsx("path",{className:"st4",d:"M162.6 76c0 11.3-9.1 20.4-20.4 20.4s-20.4-9.1-20.4-20.4 9.1-20.4 20.4-20.4 20.4 9.1 20.4 20.4z"}),c.jsx("path",{d:"M141.8 59.2c-8.6.5-15.5 6.9-16.5 14.5-1.2 9 6.1 18.3 16.5 19.1",fill:"none",stroke:"#111b21",strokeWidth:1.5,strokeLinecap:"round",strokeMiterlimit:10}),c.jsx("path",{className:"st4",d:"M143.8 84c.7 0 1.3-.6 1.3-1.3V70c0-1.3-1.2-2.4-2.6-2.1l-3.4.8c-.9.2-1.5 1-1.5 2.1 0 1.3 1.2 2.3 2.5 2.1l1-.2v10.1c0 .7.6 1.3 1.3 1.3z"}),c.jsx("circle",{className:"st6",cx:149.8,cy:61.6,r:1.5}),c.jsx("circle",{className:"st6",cx:155.9,cy:67.9,r:1.5}),c.jsx("circle",{className:"st6",cx:158.2,cy:76.3,r:1.5}),c.jsx("circle",{className:"st6",cx:155.9,cy:84.8,r:1.5}),c.jsx("circle",{className:"st6",cx:150.1,cy:90.6,r:1.5})]})}))}m.displayName=m.name+" [from "+i.id+"]",l.WdsIllViewOncePhotoIcon=m}),98);
__d("WAWebViewOnceNux.react",["fbt","WAWebConfirmPopup.react","WAWebExternalLink.react","WAWebFaqUrl","WAWebFlex.react","WAWebFlexItem.react","WAWebText.react","WAWebWdsIllViewOncePhotoIcon.react","react"],(function(t,n,r,o,a,i,l,s){var e,u=e||(e=r("react")),c={graphic:{marginBottom:"xod5an3",paddingTop:"x1h678fw",paddingInlineEnd:"xcldk2z",paddingBottom:"xv6tirj",paddingInlineStart:"x1phvje8",$$css:!0}};function d(e){var t=e.onOkClick;return u.jsx(o("WAWebConfirmPopup.react").ConfirmPopup,{onOK:t,cancelText:s._(/*BTDS*/"Learn more"),onCancel:function(){o("WAWebExternalLink.react").openExternalLink(o("WAWebFaqUrl").getViewOnceFaqUrl())},children:u.jsxs(o("WAWebFlex.react").FlexColumn,{children:[u.jsx(r("WAWebFlexItem.react"),{xstyle:c.graphic,align:"center",children:u.jsx(o("WAWebWdsIllViewOncePhotoIcon.react").WdsIllViewOncePhotoIcon,{width:195})}),u.jsx(o("WAWebText.react").WAWebTextLarge,{children:e.isPhoto?s._(/*BTDS*/"This photo is set to view once"):s._(/*BTDS*/"This video is set to view once")}),u.jsx(o("WAWebText.react").WAWebTextMuted,{children:e.isPhoto?s._(/*BTDS*/"For more privacy, this photo will disappear after you close it."):s._(/*BTDS*/"For more privacy, this video will disappear after you close it.")})]})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("WAWebMediaViewerModal.react",["cx","fbt","WALogger","WATypeUtils","WAWebAppTracker","WAWebClassnames","WAWebEmojiText.react","WAWebFocusTracer","WAWebFrontendMsgGetters","WAWebGroupMetadataContext","WAWebIncrementalZoomUtils","WAWebKeyboardHotKeys.react","WAWebMarkPlayedMsgAction","WAWebMediaAudio.react","WAWebMediaData","WAWebMediaImage.react","WAWebMediaIncrementalZoom","WAWebMediaPanelHeader.react","WAWebMediaStage.react","WAWebMediaSticker.react","WAWebMediaTypes","WAWebMediaViewerCaption.react","WAWebMediaViewerConstants","WAWebMediaViewerFlow.react","WAWebMediaViewerMediaVideo.react","WAWebMediaViewerModalStyle","WAWebMediaViewerShortcuts.react","WAWebModalManager","WAWebMsgActionCapability","WAWebMsgGetters","WAWebNux","WAWebResizeObserver.react","WAWebTPPdfViewerGatingUtils","WAWebTimeSpentLoggingNavigation","WAWebUISpacing","WAWebUimUie.react","WAWebVelocityAnimate","WAWebViewOnceNux.react","WDSButton.react","WDSIconIcChevronLeft.react","WDSIconIcChevronRight.react","WDSTooltip.react","cr:23046","cr:27506","react","stylex","useWAWebModelValues","useWAWebMsgValues","useWAWebNux","useWAWebThrottledCallback"],(function(t,n,r,o,a,i,l,s,u){var e,c,d,m,p,_,f=_||(_=o("react")),g=m||(m=r("react")),h=f.useContext,y=f.useEffect,C=f.useId,b=f.useMemo,v=f.useRef,S=f.useState;function R(e){e==null||e.stopPropagation()}function L(t){var a,i,l=t.msg,s=t.onImageLoad,m=t.isAnimatingThumbs,_=t.onImgZoomIn,f=t.onExitAnimation,C=t.onBack,R=t.shouldShowNumberText,L=t.shouldShowAllMedia,T=o("useWAWebMsgValues").useMsgValues(t.msg.id,[(i=o("WAWebMsgGetters")).getId,i.getStar,o("WAWebFrontendMsgGetters").getIsUnsentMedia,i.getIsViewOnce,i.getIsStickerMsg,i.getHasThumbList,i.getCaption,i.getInteractiveAnnotations,i.getType,i.getMessageSecret]),D=T[0],x=T[1],$=T[2],P=T[3],N=T[4],M=T[5],w=T[6],A=T[7],F=T[8],O=T[9],B=o("WAWebFrontendMsgGetters").getChat(l),W=o("useWAWebModelValues").useModelValues(t.mediaData,["mediaStage","type","isGif","mimetype","filename"]),q=h(o("WAWebMediaIncrementalZoom").MediaIncrementalZoomCtx),U=q.hasOverflownThumbnailSection,V=h(o("WAWebMediaViewerFlow.react").MediaViewerFlowZoomContext)||U,H=v(null),G=v(null),z=v(null),j=v(null),K=v(null),Q=v(!1),X=v(!1),Y=v(!1),J=r("useWAWebNux")(o("WAWebNux").NUX.EPHEMERAL_VIEW_ONCE_RECEIVER),Z=J[0],ee=J[1],te=P&&Z,ne=t.getZoomNode,re=b(function(){return W.mediaStage===o("WAWebMediaTypes").MediaDataStage.RESOLVED&&ne?ne(D):null},[W.mediaStage,ne,D]),oe=S(!1),ae=oe[0],ie=oe[1],le=q.isEnabled,se=S(!1),ue=se[0],ce=se[1],de=[r("WAWebMediaData").TYPE.IMAGE,r("WAWebMediaData").TYPE.STICKER].includes(W.type),me=S(de),pe=me[0],_e=me[1],fe=S(!t.isAnimatingThumbs&&!pe),ge=fe[0],he=fe[1],ye=S(!1),Ce=ye[0],be=ye[1],ve=P||!o("WAWebMsgActionCapability").canWamoSubMsgBeSharedByUser(l,B),Se=v(null);o("WAWebIncrementalZoomUtils").usePreventDefaultZoom(Se);var Re=function(){var e=g.jsx(r("WAWebViewOnceNux.react"),{isPhoto:W.type===r("WAWebMediaData").TYPE.IMAGE,onOkClick:function(){ee(),o("WAWebModalManager").ModalManager.close()}});o("WAWebModalManager").ModalManager.open(e)},Le=r("useWAWebThrottledCallback")(function(e,t){if(!ue){var n=H.current;if(n){var a=n.getInsideContainer();if(!(!a||!(a instanceof HTMLElement))){var i=n.getOutsideContainer();if(!(!i||!(i instanceof HTMLElement))){var l=n.getTranslatePosition(i,e,t),s=l.translateX,u=l.translateY;r("WAWebVelocityAnimate")(a,"stop"),r("WAWebVelocityAnimate")(a,{translateX:s,translateY:u,scale:o("WAWebMediaViewerConstants").ZOOM_IN_FACTOR},{duration:0})}}}}});y(function(){return o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["MediaViewerModal: Opened"]))),te&&Re(),r("WAWebFocusTracer").focus(j.current),function(){o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["MediaViewerModal: Closed"]))),I(),Le.cancel()}},[]),y(function(){k(W.type)},[W.type]);var Ee=function(){Re()},ke=function(t,n){var e,a=n.getBoundingClientRect(),i=t.getBoundingClientRect(),l=i.top-a.top,s=i.left-a.left,u=t.clientWidth/n.clientWidth,c=(n.clientHeight-t.clientHeight)/2,d=(n.clientWidth-t.clientWidth)/2;l-=c,s-=d,r("WAWebVelocityAnimate")(n,{opacity:[1,0],translateX:[0,s],translateY:[0,l],scale:[1,u]},{duration:o("WAWebMediaViewerConstants").ANIMATION_DURATION,easing:[.1,.82,.25,1]}).then(function(){return _e(!1)});var m=(e=z.current)==null?void 0:e.getElement();m&&r("WAWebVelocityAnimate")(m,{opacity:[1,0]},{duration:o("WAWebMediaViewerConstants").ANIMATION_DURATION})},Ie=function(){P&&o("WAWebMarkPlayedMsgAction").canMarkPlayed(l)&&o("WAWebMarkPlayedMsgAction").markPlayed(l)},Te=function(t){Ie(),s&&s();var e=re,n=t.target;if(!e||!n||!(n instanceof HTMLElement)||Y.current||le){_e(!1);return}Y.current=!0,ke(e,n)},De=function(){var e;if(!Q.current){Q.current=!0,o("WATypeUtils").isFunction(f)&&f();var n=t.getZoomNode&&t.getZoomNode(D);if(!n)return C();var a;if(de&&H.current){var i;a=H.current.getInsideContainer(),(i=H.current)==null||i.closingMediaZoomable()}else if(W.isGif&&G.current){var l;a=G.current.getContainerElement(),(l=G.current)==null||l.closingMedia()}else K.current&&(a=K.current);if(!a)return C();var s=a,u=a.getBoundingClientRect(),c=n.getBoundingClientRect(),d=c.top-u.top,m=c.left-u.left,p=n.clientWidth/s.clientWidth,_=(s.clientHeight-n.clientHeight)/2,g=(s.clientWidth-n.clientWidth)/2;d-=_,m-=g,r("WAWebVelocityAnimate")(a,{translateX:[m,0],translateY:[d,0],scale:[p,1]},{duration:o("WAWebMediaViewerConstants").CLOSE_ANIMATION_DURATION,easing:[.1,.82,.25,1]}).then(function(){C()});var h=(e=z.current)==null?void 0:e.getElement();h&&r("WAWebVelocityAnimate")(h,{opacity:[0,1]},{duration:o("WAWebMediaViewerConstants").CLOSE_ANIMATION_DURATION,easing:[.1,.82,.25,1]})}},xe=function(t){var e=H.current;t&&e&&(X.current=e.getHeightOverflow()>0||e.getWidthOverflow()>0),ie(t),_(t)},$e=function(t){Le.cancel();var e=H.current;e&&ae&&e.onClick(t)},Pe=function(t){le||Le(t.pageX,t.pageY)},Ne=function(t){var e,n=(e=H.current)==null?void 0:e.getInsideContainer(),r=!!(n!=null&&n.contains(document.activeElement));if(!(m||pe||!r)){Le.cancel();var o=H.current;o!=null&&o.onKeyboardZoom(t)}},Me=function(){be(!0)},we=function(){be(!1)},Ae=function(){ce(!0)},Fe=function(){ce(!1)};y(function(){!ge&&!m&&!pe&&he(!0)},[m,ge,pe]),o("WAWebTimeSpentLoggingNavigation").useTsNavigation({surface:"media-viewer"});var Oe=null,Be=t.msgIndexInAlbum>=0&&t.albumSize>=0;function We(){return w!=null&&w!==W.filename?[{testid:"media-caption",text:w}]:[]}if(w||Be){var qe=function(){var e=w==null&&Ue!=null?Ue:w,t=[{testid:"media-caption",text:e}];return R&&w!=null&&Ue!=null&&t.push({testid:"media-number-caption",text:Ue}),t},Ue;Be&&(Ue=u._(/*BTDS*/"{number} of {totalNumber}",[u._param("number",t.msgIndexInAlbum+1),u._param("totalNumber",t.albumSize)]));var Ve=o("WAWebMediaViewerCaption.react").getCaptionFormatters({msg:l,id:D}),He=W.type===r("WAWebMediaData").TYPE.IMAGE&&!P,Ge=!ge&&(W.isGif||He)||q.isZoomedIn,ze={className:o("WAWebClassnames").classnamesConvertMeToStylexPlease("_alhf",(p||(p=r("stylex")))(r("WAWebMediaViewerModalStyle").mediaCaption,Ge&&r("WAWebMediaViewerModalStyle").mediaCaptionHidden)),formatters:Ve};Oe=g.jsx(g.Fragment,{children:(o("WAWebTPPdfViewerGatingUtils").isWebTPPdfViewerEnabledForMimeType(W.mimetype)?We():qe()).map(function(e,t){return g.jsx(o("WAWebEmojiText.react").EmojiText,babelHelpers.extends({},e,ze,{ref:function(t){z.current=t}}),t)})})}var je=babelHelpers.extends({},(p||(p=r("stylex"))).props(r("WAWebMediaViewerModalStyle").captionWrapper,V&&r("WAWebMediaViewerModalStyle").captionWrapperZoomedIn));Oe=q.isEnabled?g.jsx(r("WAWebResizeObserver.react"),babelHelpers.extends({component:"p",onResize:function(t){q.setCaptionHeight(t.height)}},je,{children:Oe})):g.jsx("p",babelHelpers.extends({},je,{children:Oe}));var Ke;switch(W.type){case r("WAWebMediaData").TYPE.IMAGE:Ke=g.jsx(r("WAWebMediaImage.react"),{msg:l,mediaData:W,onLoad:Te,onImgZoomIn:xe,onAnnotationTooltipDisplay:Ae,onAnnotationTooltipDismiss:Fe,preventDownload:ve,ref:H},D.toString());break;case r("WAWebMediaData").TYPE.STICKER:Ke=g.jsx(r("WAWebMediaSticker.react"),{msg:l,mediaData:W,onLoad:Te,onImgZoomIn:xe,onStickerPackView:De,stickerPackViewDelay:o("WAWebMediaViewerConstants").CLOSE_ANIMATION_DURATION,ref:H},D.toString());break;case r("WAWebMediaData").TYPE.VIDEO:Ke=g.jsx(r("WAWebMediaViewerMediaVideo.react"),{autoPlay:!te,msg:l,mediaData:W,onLoadedData:W.isGif?Te:Ie,startTime:t.startTime,onClose:De,ref:G},D.toString());break;case r("WAWebMediaData").TYPE.AUDIO:Ke=g.jsx(r("WAWebMediaAudio.react"),{mediaData:W,msg:l},D.toString());break;case r("WAWebMediaData").TYPE.DOCUMENT:n("cr:27506")&&o("WAWebTPPdfViewerGatingUtils").isWebTPPdfViewerEnabledForMimeType(W.mimetype)&&(Ke=g.jsx(n("cr:27506"),{onLoad:Te,msg:l,mediaData:W,containerRef:K},D.toString()));break;default:o("WALogger").ERROR(d||(d=babelHelpers.taggedTemplateLiteralLoose(["type: ",""])),W.type).sendLogs("MediaViewerModal: unexpected media type")}var Qe=p(r("WAWebMediaViewerModalStyle").media,!!Oe&&r("WAWebMediaViewerModalStyle").mediaWithCaption),Xe=(a=n("cr:23046")==null?void 0:n("cr:23046").isWindowsHybridEnabled())!=null?a:!1,Ye=We().length===0&&o("WAWebTPPdfViewerGatingUtils").isWebTPPdfViewerEnabledForMimeType(W.mimetype),Je=o("WAWebClassnames").classnamesConvertMeToStylexPlease("overlay",p((pe||m)&&r("WAWebMediaViewerModalStyle").mediaViewerAnimate,ae&&r("WAWebMediaViewerModalStyle").cursorZoomOut,r("WAWebMediaViewerModalStyle").mediaViewer,!M&&o("WAWebUISpacing").uiPadding.bottom40,Xe&&r("WAWebMediaViewerModalStyle").mediaViewerHybrid,Ye&&o("WAWebUISpacing").uiPadding.bottom0)),Ze=ae&&X.current?Pe:null,et=ae?$e:null,tt=ae?null:De;return tt!=null&&P&&(tt=Me),o("WAWebMediaViewerShortcuts.react").useMediaViewerShortcuts(l),g.jsx(o("WAWebUimUie.react").UIE,{displayName:"MediaViewer",escapable:!0,requestDismiss:function(t,n){var e;if(!q.isEnabled){De();return}var r=n instanceof KeyboardEvent&&n.key==="Escape";if(!r||q.currentZoomLevel===1){De();return}(e=q.getHandler())==null||e.performZoom(1)},children:g.jsx(o("WAWebKeyboardHotKeys.react").HotKeys,{handlers:{space:Ne,enter:Ne},ref:j,children:g.jsxs("div",{className:Je,"data-animate-media-viewer":!0,"data-testid":void 0,onClick:et,onMouseMove:Ze,children:[g.jsx(r("WAWebMediaPanelHeader.react"),{isHighlightClose:Ce,msg:l,mediaData:W,onClose:De,onHightlightCloseEnd:we,onViewOnceInfoClick:Ee,msgIndexInAlbum:t.msgIndexInAlbum,theme:L===!0?"media_hub":void 0}),g.jsx("div",babelHelpers.extends({ref:Se},p.props([r("WAWebMediaViewerModalStyle").mediaContent,o("WAWebUISpacing").uiPadding.top10,o("WAWebUISpacing").uiPadding.bottom15],N&&r("WAWebMediaViewerModalStyle").mediaContentSticker,Ye&&o("WAWebUISpacing").uiPadding.bottom0),{onClick:tt,children:g.jsx(E,{hasNavigationButtons:M,onNext:t.onNext,onPrev:t.onPrev,imgZoomed:ae,children:g.jsxs("div",{className:Qe,children:[g.jsx(r("WAWebMediaStage.react"),{msg:l,mediaData:W}),Ke,g.jsx(r("WAWebGroupMetadataContext").Provider,{value:B.groupMetadata,children:Oe})]})})}))]})})})}L.displayName=L.name+" [from "+i.id+"]";function E(e){var t=e.children,n=e.hasNavigationButtons,a=e.imgZoomed,i=e.onNext,l=e.onPrev,s=h(o("WAWebMediaIncrementalZoom").MediaIncrementalZoomCtx).isEnabled,c=h(o("WAWebMediaIncrementalZoom").MediaIncrementalZoomCtx).isZoomedIn,d=C(),m=C();return g.jsxs(g.Fragment,{children:[n&&g.jsx("div",babelHelpers.extends({},(p||(p=r("stylex"))).props(r("WAWebMediaViewerModalStyle").mediaNavBtn,r("WAWebMediaViewerModalStyle").mediaNavBtnPrev,c&&r("WAWebMediaViewerModalStyle").mediaNavBtnHidden,s&&r("WAWebMediaViewerModalStyle").mediaNavBtnPrevIncrementalZoom),{children:g.jsx("div",{onClick:l?null:R,children:g.jsx(r("WDSTooltip.react"),{id:d,label:u._(/*BTDS*/"Previous"),children:g.jsx(r("WDSButton.react"),{Icon:r("WDSIconIcChevronLeft.react"),variant:"tonal",type:"media",size:"medium",directional:!0,onPress:l!=null?l:void 0,disabled:!l||a,testid:void 0,"aria-describedby":d,"aria-label":u._(/*BTDS*/"Previous")})})})})),t,n&&g.jsx("div",babelHelpers.extends({},(p||(p=r("stylex"))).props(r("WAWebMediaViewerModalStyle").mediaNavBtn,r("WAWebMediaViewerModalStyle").mediaNavBtnNext,c&&r("WAWebMediaViewerModalStyle").mediaNavBtnHidden,s&&r("WAWebMediaViewerModalStyle").mediaNavBtnNextIncrementalZoom),{children:g.jsx("div",{onClick:i?null:R,children:g.jsx(r("WDSTooltip.react"),{id:m,label:u._(/*BTDS*/"Next"),children:g.jsx(r("WDSButton.react"),{Icon:r("WDSIconIcChevronRight.react"),variant:"tonal",type:"media",size:"medium",directional:!0,onPress:i!=null?i:void 0,disabled:!i||a,testid:void 0,"aria-describedby":m,"aria-label":u._(/*BTDS*/"Next")})})})}))]})}E.displayName=E.name+" [from "+i.id+"]";function k(e){var t;(t=o("WAWebAppTracker")).AppTracker.start(t.AppTrackerType.MediaOpen),t.AppTracker.stop(t.AppTrackerType.MediaOpenImage),t.AppTracker.stop(t.AppTrackerType.MediaOpenVideo),e===r("WAWebMediaData").TYPE.IMAGE?o("WAWebAppTracker").AppTracker.start(o("WAWebAppTracker").AppTrackerType.MediaOpenImage):e===r("WAWebMediaData").TYPE.VIDEO&&o("WAWebAppTracker").AppTracker.start(o("WAWebAppTracker").AppTrackerType.MediaOpenVideo)}function I(){var e;(e=o("WAWebAppTracker")).AppTracker.stop(e.AppTrackerType.MediaOpen),e.AppTracker.stop(e.AppTrackerType.MediaOpenImage),e.AppTracker.stop(e.AppTrackerType.MediaOpenVideo)}l.default=L}),226);
__d("WAWebThumbList.react",["fbt","WALogger","WAMapsShallowEqual","WAWebAllMediaCollection","WAWebFocusTracer","WAWebMediaIncrementalZoom","WAWebMediaThumb.react","WAWebMediaViewerFlow.react","WAWebMsgGetters","WAWebPREGatingUtils","WAWebSpinner.react","WAWebUISpacing","react","stylex","useWAWebPrevious","useWAWebThrottledCallback"],(function(t,n,r,o,a,i,l,s){var e,u,c,d,m=d||(d=o("react")),p=u||(u=r("react")),_=m.useCallback,f=m.useContext,g=m.useEffect,h=m.useImperativeHandle,y=m.useLayoutEffect,C=m.useRef,b=m.useState,v=o("WAWebPREGatingUtils").isPREMessageSendFollowupEnabled()?p.memo(r("WAWebMediaThumb.react")):r("WAWebMediaThumb.react"),S={viewerThumbs:{display:"x78zum5",width:"xh8yej3",overflowX:"x14aock7",$$css:!0},mediaThumb:{position:"x1n2onr6",boxSizing:"x9f619",display:"x78zum5",flex:"x3psx0u",alignItems:"x6s0dn4",justifyContent:"xl56j7k",width:"x9whnou",minWidth:"xa06r8k",maxWidth:"xr6zewm",height:"xuzvuw4",$$css:!0}};function R(t){var n=t.activeMsg,a=t.highlightedMsgIds,i=t.mediaMsgs,l=t.msgIdToPreferPreview,s=t.onSelectThumb,u=t.onSetActiveThumb,d=t.ref,m=C({}),f=function(){var e=n.id.toString(),t=m.current[e];t&&r("WAWebFocusTracer").focus(t)};h(d,function(){return{focusOnActive:f}});var g=a!=null&&a.size>0&&a.has(n.id.toString()),y=[],b=_(function(e,t){m.current[t]=e},[]),v=i instanceof o("WAWebAllMediaCollection").WAWebAllMediaCollection?i.getMsgsAround(n,50):i;v.forEach(function(t){if(t.mediaData==null){var r=n;o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["MediaViewerFlow: attempted to render a msg without mediaData: ",""])),JSON.stringify({type:t.type,isMedia:o("WAWebMsgGetters").getIsMedia(t),startMsgType:r.type,startMsgIsMedia:o("WAWebMsgGetters").getIsMedia(r)})).verbose();return}var i=g&&a&&!a.has(t.id.toString())?"viewerFlowTransparent":"viewerFlow";y.push(p.jsx(L,{theme:i,active:t===n,msg:t,onClick:s,setThumbRef:b,onSetActiveThumb:u,preferPreview:!!l.get(t.id.toString()),showTooltip:o("WAWebMsgGetters").getIsGroupMsg(t),tabIndex:t===n?0:-1},"media-"+t.id.id))});var R=(c||(c=r("stylex")))(S.mediaThumb,o("WAWebUISpacing").uiMargin.end8);return y.push(p.jsx("div",{className:R,children:i.queryMediaAfter!=null?p.jsx(o("WAWebSpinner.react").Spinner,{stroke:6,size:24}):null},"spinner-right")),y.unshift(p.jsx("div",{className:R,children:i.queryMediaBefore!=null?p.jsx(o("WAWebSpinner.react").Spinner,{stroke:6,size:24}):null},"spinner-left")),y.push(p.jsx("div",{className:"x1mkiy5m"},"padding-right")),y.unshift(p.jsx("div",{className:"x1mkiy5m"},"padding-left")),p.jsx(p.Fragment,{children:y})}R.displayName=R.name+" [from "+i.id+"]";function L(e){var t=e.msg,n=e.preferPreview,r=e.showTooltip,o=e.tabIndex,a=e.onClick,i=e.setThumbRef,l=e.active,s=e.onSetActiveThumb,u=e.theme,c=_(function(){a(t)},[t,a]),d=_(function(e){i(e,t.id.toString()),l===!0&&s(e)},[l,t.id,s,i]);return p.jsx(v,{theme:u,active:l,msg:t,containerRef:d,onClick:c,preferPreview:n,showTooltip:r,tabIndex:o})}L.displayName=L.name+" [from "+i.id+"]";var E=R;function k(e){var t=f(o("WAWebMediaViewerFlow.react").MediaViewerFlowZoomContext),n=e.mediaMsgs,a=e.onScroll,i=e.activeMsg,l=e.moveUpAnimation,u=e.moveDownAnimation;T({moveDownAnimation:u,moveUpAnimation:l});var d=C({}),m=C(null),_=C(null),h=r("useWAWebPrevious")(i.id),y=function(){var e;(e=m.current)==null||e.focusOnActive()};g(function(){var e;(e=_.current)!=null&&e.contains(document.activeElement)&&!i.id.equals(h)&&y()},[i,h]);var v=function(t){var e=d.current[t];if(!e)return!1;var n=e.getBoundingClientRect(),r=(n.left+n.right)/2,o=r>-1*window.innerWidth&&r<2*window.innerWidth;return!o},R=function(){var e=new Map;return n.forEach(function(t){var n=t.id.toString();e.set(n,v(n))}),e},L=b(R),k=L[0],I=L[1],D=r("useWAWebThrottledCallback")(function(){var e=R();r("WAMapsShallowEqual")(k,e)||I(e)},100),x=function(t){D(),a(t)},$=t;return p.jsx("div",babelHelpers.extends({},{0:{className:"xsm26vf x10l6tqk x1ey2m1c xoxg7ud x9f619 x78zum5 xdt5ytf x6s0dn4 x1nhvcw1 xh8yej3 xpyat2d x6ikm8r x10wlt62 x13fuv20 x178xt8z xx42vgk xg01cxk xqu7myx"},1:{className:"xsm26vf x10l6tqk x1ey2m1c xoxg7ud x9f619 x78zum5 xdt5ytf x6s0dn4 x1nhvcw1 xh8yej3 xpyat2d x6ikm8r x10wlt62 x13fuv20 x178xt8z xx42vgk xqu7myx x1yn0zye xvdu4fi"}}[!!$<<0],{ref:e.setRefThumbsContainer,children:p.jsx("div",{ref:_,className:"xh8yej3",dir:"ltr",children:p.jsx("div",babelHelpers.extends({role:"list","aria-label":s._(/*BTDS*/"Media list"),onScroll:x},(c||(c=r("stylex"))).props(S.viewerThumbs,o("WAWebUISpacing").uiPadding.vert8),{ref:e.setRefThumbs,children:p.jsx(E,{ref:m,mediaMsgs:n,highlightedMsgIds:e.highlightedMsgIds,activeMsg:e.activeMsg,onSetActiveThumb:e.onSetActiveThumb,onSelectThumb:e.onSelectThumb,msgIdToPreferPreview:k})}))})}))}k.displayName=k.name+" [from "+i.id+"]";var I=200;function T(e){var t=e.moveDownAnimation,n=e.moveUpAnimation,a=f(o("WAWebMediaIncrementalZoom").MediaIncrementalZoomCtx),i=a.hasOverflownThumbnailSection,l=r("useWAWebPrevious")(i),s=C(!1),u=C(!1),c=a.isEnabled,d=a.msgId,m=_(function(){n==null||n(),s.current=!1},[n]),p=_(function(){t==null||t(),s.current=!0},[t]),h=function(){return u.current=!1,window.setTimeout(function(){u.current=!0},I)};g(function(){var e=h();return function(){window.clearTimeout(e)}},[]),y(function(){u.current=!1;var e=h();return s.current&&m(),function(){window.clearTimeout(e)}},[d]),g(function(){!c||!u.current||i===l||(s.current=i,i?p():m())},[a.msgId,i,p,c,t,n,l,m])}l.default=k}),226);
__d("WAWebMessageContainer.react",["cx","WAWebClassnames","WAWebWrapperConstants","WAWebWrapperGetTailIcon","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t,n=e.children,r=e.isSentByMe,a=o("WAWebClassnames").classnamesConvertMeToStylexPlease((t={"message-out":r,"message-in":!r},t._aml0=!0,t)),i=o("WAWebClassnames").classnamesConvertMeToStylexPlease("_amk4","_amk5","tail-override-left"),l=o("WAWebWrapperGetTailIcon").getTailIcon(o("WAWebWrapperConstants").MSG_DIRECTION.IN);return u.jsx("div",{className:a,children:u.jsx("div",{className:i,children:u.jsxs("div",{className:"_amk6",children:[u.jsx("div",{className:"_amk7","aria-hidden":"true",children:u.jsx(l,{})}),n]})})})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("WAWebMetricInfoModal.react",["fbt","WAWebButton.react","WAWebClock","WAWebExternalLink.react","WAWebFaqUrl","WAWebFbtCommon","WAWebFlex.react","WAWebModal.react","WAWebModalManager","WAWebText.react","WAWebUISpacing","WAWebWamEnumActionTarget","react","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u.useCallback;function m(e){var t=e.metric,n=t.name,r=t.description;return c.jsxs(o("WAWebFlex.react").FlexColumn,{children:[c.jsx(o("WAWebText.react").WAWebTextLarge,{children:n}),c.jsx(o("WAWebText.react").WAWebTextMuted,{children:r})]})}m.displayName=m.name+" [from "+i.id+"]";function p(t){var n=t.lastUpdated,a=t.logger,i=t.metrics,l=t.metricsThreshold,u=d(function(){o("WAWebModalManager").ModalManager.close()},[]),p=c.jsx(o("WAWebButton.react").WAWebButtonPrimary,{testid:void 0,onClick:u,children:r("WAWebFbtCommon")("OK")});return c.jsx(o("WAWebModal.react").Modal,{actions:p,children:c.jsxs(o("WAWebFlex.react").FlexColumn,{rowGap:16,children:[i.map(function(e){return c.jsx(m,{metric:e},e.key)}),c.jsxs(o("WAWebText.react").WAWebTextMuted,{children:[c.jsxs("p",{children:[n!=null&&c.jsxs(c.Fragment,{children:[s._(/*BTDS*/"Number last refreshed on {date}.",[s._param("date",o("WAWebClock").Clock.lastUpdatedDateStr(n))])," "]}),s._(/*BTDS*/"Reported numbers are in {=m2} and may be delayed by about a week.",[s._implicitParam("=m2",c.jsx(o("WAWebText.react").WAWebClickableText,{weight:"normal",onClick:function(){a.logHelpCentreClick(o("WAWebWamEnumActionTarget").ACTION_TARGET.HELP_CENTER_CHANNEL_METRICS_ARTICLE),o("WAWebExternalLink.react").openExternalLink(o("WAWebFaqUrl").getNewsletterMetricsEstimatedFaqUrl())},children:s._(/*BTDS*/"development")}))])]}),l!=null&&c.jsx("p",babelHelpers.extends({},(e||(e=r("stylex"))).props(o("WAWebUISpacing").uiMargin.top16),{children:l}))]})]})})}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),226);
__d("WAWebMexFetchNewsletterInsightsJobQuery.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"XWA2NewsletterAdminInsightsResponse",kind:"LinkedField",name:"xwa2_newsletter_admin_insights",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"newsletter_id",storageKey:null},{alias:null,args:null,concreteType:"XWA2NewsletterState",kind:"LinkedField",name:"state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_update_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"metrics_status",storageKey:null},{alias:null,args:null,concreteType:"XWA2NewsletterAdminInsightsMetricResult",kind:"LinkedField",name:"result",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"XWA2NewsletterAdminInsightsValues",kind:"LinkedField",name:"values",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"country",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"WAWebMexFetchNewsletterInsightsJobQuery",selections:t,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"WAWebMexFetchNewsletterInsightsJobQuery",selections:t},params:{id:"9853618868050977",metadata:{},name:"WAWebMexFetchNewsletterInsightsJobQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("WAWebMexFetchNewsletterInsightsJob",["WALogger","WATimeUtils","WAWebMexClient","WAWebMexFetchNewsletterInsightsJobQuery.graphql","WAWebNewsletterInsightUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s,u=e!==void 0?e:e=n("WAWebMexFetchNewsletterInsightsJobQuery.graphql");function c(e){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,n,r,a,i,l=e.newsletterJid,c=e.requestedMetrics,d=yield o("WAWebMexClient").fetchQuery(u,{input:{newsletter_id:l,metrics:c}});o("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[MEX][NEWSLETTER] fetched newsletter admin insights mex"]))).tags("GQL","MEX").devConsole({response:d});var m=(t=(n=d.xwa2_newsletter_admin_insights)==null?void 0:n.result)!=null?t:[],p=(r=d.xwa2_newsletter_admin_insights)==null?void 0:r.last_update_time,_=m.reduce(function(e,t){var n=t.id,r=t.values;return n==null||r==null||e.set(n,r),e},new Map);return{metricValueMap:_,lastUpdateTime:p==null?o("WATimeUtils").unixTime():o("WATimeUtils").castToUnixTime(Number.parseInt(p,10)),dataStatus:o("WAWebNewsletterInsightUtils").getNewsletterInsightsDataStatus((a=(i=d.xwa2_newsletter_admin_insights)==null?void 0:i.metrics_status)!=null?a:"MISSING")}}),d.apply(this,arguments)}l.mexFetchNewsletterInsights=c}),98);
__d("WAWebNewsletterAdminInsightsFailedToLoad.react",["fbt","WAWebButton.react","WAWebFbtCommon","WAWebFlex.react","WAWebText.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=e.onClick;return u.jsxs(o("WAWebFlex.react").FlexColumn,{justify:"center",align:"center",paddingBottom:4,children:[u.jsx(o("WAWebText.react").WAWebTextMuted,{marginTop:12,marginBottom:2,children:s._(/*BTDS*/"Couldn't load the data")}),u.jsx(o("WAWebButton.react").WAWebButtonSimplified,{onClick:t,children:r("WAWebFbtCommon")("Try again")})]})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),226);
__d("WAWebNewsletterChatItem.react",["WAWebDetailImage.react","WAWebFlex.react","WAWebText.react","WAWebUISpacing","react","stylex","useWAWebModelValues"],(function(t,n,r,o,a,i,l){var e,s,u=e||(e=r("react")),c=92,d=72,m=64,p=20,_={container:{width:"xni59qk",minHeight:"x1aes4zu",cursor:"x1ypdohk",$$css:!0},text:{width:"xni59qk",minHeight:"xisnujt",textAlign:"x2b8uid",overflowX:"x6ikm8r",overflowY:"x10wlt62",breakWord:"x9hmgtc",textWrap:"x9wz5kn",$$css:!0}};function f(e){var t=e.newsletter,n=o("useWAWebModelValues").useOptionalModelValues(t.newsletterMetadata,["name","inviteCode","verified"]);return n==null?null:u.jsxs(o("WAWebFlex.react").FlexColumn,{align:"center",xstyle:_.container,children:[u.jsx(o("WAWebDetailImage.react").DetailImage,{id:t.id,size:m,checkmarkIcon:(n==null?void 0:n.verified)===!0?"chat-list":null,showOutline:!0}),u.jsx("div",babelHelpers.extends({},(s||(s=r("stylex"))).props(_.text,o("WAWebUISpacing").uiMargin.top8,o("WAWebUISpacing").uiMargin.bottom8),{children:u.jsx(o("WAWebText.react").WAWebTextSmall,{color:"primary",textWrap:"ellipsis",children:n==null?void 0:n.name})}))]})}f.displayName=f.name+" [from "+i.id+"]",l.default=f}),98);
__d("WAWebNewsletterGrowthChartProcessors",["WALogger","WATimeUtils","WAWebNewsletterMetricUtils"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){var t=e.reduce(function(e,t){var n=t.timestamp,r=t.value;if(n==null)return e;var a=Number.parseInt(n,10);return Number.isNaN(a)||e.push([o("WAWebNewsletterMetricUtils").roundToNearestDay(a*1e3),r]),e},[]);if(t.sort(function(e,t){return e[0]-t[0]}),t.length===1){var n=t[0][0],r=n-o("WATimeUtils").DAY_MILLISECONDS;t.unshift([r,0])}return t}function u(t,n){if(t.length!==n.length)return o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[newsletter][insights][getNetFollowsData] follows and unfollows length is not equal"]))).tags("newsletter").devConsole(t,n).sendLogs("newsletter-insights-growth-chart-follows-unfollows-length-mismatch"),[];for(var r=[],a=0;a<t.length;a++)r.push([t[a][0],t[a][1]-n[a][1]]);return r}var c={getMetrics:function(){var e;return[{id:(e=o("WAWebNewsletterMetricUtils")).NewsletterInsightMetricQuery.FollowsPerDay,type:"FOLLOWS",group_by:{number_of_days:1},limit:e.INSIGHT_DAYS_COVERED},{id:e.NewsletterInsightMetricQuery.UnfollowsPerDay,type:"UNFOLLOWS",group_by:{number_of_days:1},limit:e.INSIGHT_DAYS_COVERED}]},process:function(t){var e,n,r=s((e=t.get(o("WAWebNewsletterMetricUtils").NewsletterInsightMetricQuery.FollowsPerDay))!=null?e:[]),a=s((n=t.get(o("WAWebNewsletterMetricUtils").NewsletterInsightMetricQuery.UnfollowsPerDay))!=null?n:[]),i=u(r,a);return i.length===0?{growthChartData:[]}:{growthChartData:[i,r,a]}}};l.FOLLOWER_GROWTH_PROCESSOR=c}),98);
__d("WAWebNewsletterInsightCountryDataProcessors",["WAWebCountriesUtils","WAWebNewsletterMetricUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e=10,s=10;function u(){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield o("WAWebCountriesUtils").getCountries({filter:o("WAWebCountriesUtils").COUNTRY_FILTER_TYPE.WHATSAPP_REGISTRATION});return new Map(e)}),c.apply(this,arguments)}function d(e){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield u(),n=e.reduce(function(e,n){var r=n.countryCode,o=n.value,a=n.percentage;if(r==null)return e;var i=t.get(r);if(i==null)return e;var l=Math.round((a+Number.EPSILON)*1e4)/1e4;return e.push({label:i,value:o,percentage:l,key:r}),e},[]);return n}),m.apply(this,arguments)}function p(e,t){var n=e.reduce(function(e,n){var r=n.country,o=n.value;return r==null||o<s||e.push({countryCode:r.toUpperCase(),percentage:o/t,value:o}),e},[]);return n.sort(function(e,t){return t.value-e.value})}var _={getMetrics:function(){var t;return[{id:(t=o("WAWebNewsletterMetricUtils")).NewsletterInsightMetricQuery.UniqueVisitorsOverPeriod,type:"UNIQUE_VISITORS",group_by:{number_of_days:t.INSIGHT_DAYS_COVERED}},{id:t.NewsletterInsightMetricQuery.UniqueVisitorOverPeriodByCountry,type:"UNIQUE_VISITORS",group_by:{number_of_days:t.INSIGHT_DAYS_COVERED,country:!0},limit:e}]},process:function(t){var e,n,r=(e=t.get(o("WAWebNewsletterMetricUtils").NewsletterInsightMetricQuery.UniqueVisitorsOverPeriod))==null?void 0:e[0].value;if(r==null)return{};var a=(n=t.get(o("WAWebNewsletterMetricUtils").NewsletterInsightMetricQuery.UniqueVisitorOverPeriodByCountry))!=null?n:[];return{reachByCountry:p(a,r)}}},f={getMetrics:function(){var t;return[{id:(t=o("WAWebNewsletterMetricUtils")).NewsletterInsightMetricQuery.FollowersOverPeriod,type:"FOLLOWER",group_by:{number_of_days:t.INSIGHT_DAYS_COVERED}},{id:t.NewsletterInsightMetricQuery.FollowersOverPeriodByCountry,type:"FOLLOWER",group_by:{number_of_days:t.INSIGHT_DAYS_COVERED,country:!0},limit:e}]},process:function(t){var e,n,r=(e=t.get(o("WAWebNewsletterMetricUtils").NewsletterInsightMetricQuery.FollowersOverPeriod))==null?void 0:e[0].value;if(r==null)return{};var a=(n=t.get(o("WAWebNewsletterMetricUtils").NewsletterInsightMetricQuery.FollowersOverPeriodByCountry))!=null?n:[];return{followersByCountry:p(a,r)}}};l.getCountryBarValues=d,l.REACH_BY_COUNTRY_PROCESSOR=_,l.FOLLOWER_BY_COUNTRY_PROCESSOR=f}),98);
__d("WAWebNewsletterInsightDeltaProcessors",["WAWebNewsletterGatingUtils","WAWebNewsletterMetricUtils"],(function(t,n,r,o,a,i,l){"use strict";var e={getMetrics:function(){return[{id:o("WAWebNewsletterMetricUtils").NewsletterInsightMetricQuery.UniqueVisitorsOverPeriod,type:"UNIQUE_VISITORS",group_by:{number_of_days:o("WAWebNewsletterMetricUtils").INSIGHT_DAYS_COVERED}},o("WAWebNewsletterGatingUtils").shouldHideProducerInsightsDeltas()?null:{id:o("WAWebNewsletterMetricUtils").NewsletterInsightMetricQuery.NewUniqueVisitorsOverPeriod,type:"NEW_UNIQUE_VISITORS",group_by:{number_of_days:o("WAWebNewsletterMetricUtils").INSIGHT_DAYS_COVERED}}].filter(Boolean)},process:function(t){var e,n,r=(e=t.get(o("WAWebNewsletterMetricUtils").NewsletterInsightMetricQuery.UniqueVisitorsOverPeriod))==null?void 0:e[0].value;if(r==null)return{};var a=(n=t.get(o("WAWebNewsletterMetricUtils").NewsletterInsightMetricQuery.NewUniqueVisitorsOverPeriod))==null?void 0:n[0].value;if(a==null)return{accountsReached:r};var i=r-a,l=i===0?o("WAWebNewsletterMetricUtils").DELTA_INFINITE:a/i;return{accountsReached:r,reachDelta:l}}},s={getMetrics:function(){var e;return[{id:(e=o("WAWebNewsletterMetricUtils")).NewsletterInsightMetricQuery.FollowersOverPeriod,type:"FOLLOWER",group_by:{number_of_days:e.INSIGHT_DAYS_COVERED}},{id:e.NewsletterInsightMetricQuery.NetFollowsOverPeriod,type:"NET_FOLLOWS",group_by:{number_of_days:e.INSIGHT_DAYS_COVERED}}]},process:function(t){var e,n,r=(e=t.get(o("WAWebNewsletterMetricUtils").NewsletterInsightMetricQuery.FollowersOverPeriod))==null?void 0:e[0].value,a=(n=t.get(o("WAWebNewsletterMetricUtils").NewsletterInsightMetricQuery.NetFollowsOverPeriod))==null?void 0:n[0].value;if(r==null||a==null)return{};var i=a/(r-a);return{followers:r,netFollows:a,followersDelta:i}}},u={getMetrics:function(){return[{id:o("WAWebNewsletterMetricUtils").NewsletterInsightMetricQuery.NetFollowsOverPeriod,type:"NET_FOLLOWS",group_by:{number_of_days:o("WAWebNewsletterMetricUtils").INSIGHT_DAYS_COVERED}}]},process:function(t){var e,n=(e=t.get(o("WAWebNewsletterMetricUtils").NewsletterInsightMetricQuery.NetFollowsOverPeriod))==null?void 0:e[0].value;return{netFollows:n}}};l.REACH_WITH_DELTA_PROCESSOR=e,l.FOLLOWER_WITH_DELTA_PROCESSOR=s,l.NET_FOLLOWS_PROCESSOR=u}),98);
__d("WAWebNewsletterInsightsJob",["WAJobOrchestratorTypes","WAWebMexFetchNewsletterInsightsJob","WAWebOrchestratorNonPersistedJob"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("getNewsletterAdminInsights",function(){return o("WAWebMexFetchNewsletterInsightsJob").mexFetchNewsletterInsights(e)},{priority:o("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}).waitUntilCompleted()}l.getNewsletterInsights=e}),98);
__d("WAWebNewsletterLinkShareLogging",["WAWebChannelLinkShareWamEvent","WAWebNewsletterGatingUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=e.shareDirection,n=e.linkShareScreenEntryPoint,r=e.linkShareScreen,a=e.newsletter;if(o("WAWebNewsletterGatingUtils").isNewsletterLinkShareLoggingEnabled()){var i=new(o("WAWebChannelLinkShareWamEvent")).ChannelLinkShareWamEvent({channelLinkShareDirection:t,channelLinkShareEntryPoint:n,channelLinkShareScreen:r,cid:a.user});i.commit()}}l.logNewsletterLinkShare=e}),98);
__d("WAWebNewsletterLoggingContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({similarNewsletterSessionId:null,entryPoint:null});l.default=u}),98);
__d("WAWebNewsletterProducerInsightsLogger",["WALogger","WAWebChannelProducerInsightsNavigationWamEvent","WAWebWamEnumActionTarget","WAWebWamEnumChannelProducerInsightsActionType","WAWebWamEnumChannelProducerInsightsSurface","WAWebWamMediaMetricUtils","err","gkx","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=(function(){function t(e){var t=e.wid;this.$1=0,this.$4=o("WAWebWamMediaMetricUtils").generateMediaEventId(),this.$5=o("WAWebWamEnumChannelProducerInsightsSurface").CHANNEL_PRODUCER_INSIGHTS_SURFACE.CHANNEL_INFO,this.$3=t.user}var n=t.prototype;return n.log=function(n){var t,r,a=n.actionType,i=n.actionTarget,l=n.entryPoint;this.$2=l!=null?l:this.$2,new(o("WAWebChannelProducerInsightsNavigationWamEvent")).ChannelProducerInsightsNavigationWamEvent({cid:this.$3,channelProducerInsightsSequenceNumber:this.$1,producerInsightsSessionId:this.$4,channelProducerInsightsActionType:a,channelProducerInsightsActionTarget:i,channelProducerInsightsEntryPoint:(t=this.$2)!=null?t:void 0,channelProducerInsightsSurface:this.$5}).commit(),o("WALogger").DEV(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[NewsletterProducerInsightsLogger] action:"," target:"," seq:",""])),a,i,this.$1).devConsole("cid: "+this.$3+" entry point:"+((r=this.$2)!=null?r:"not set")),this.$1+=1},n.logClose=function(){this.log({actionType:o("WAWebWamEnumChannelProducerInsightsActionType").CHANNEL_PRODUCER_INSIGHTS_ACTION_TYPE.CLOSE}),this.$5=o("WAWebWamEnumChannelProducerInsightsSurface").CHANNEL_PRODUCER_INSIGHTS_SURFACE.CHANNEL_INFO,this.$2=null},n.logOpen=function(t){var e=t.entryPoint,n=t.tab;this.log({actionType:o("WAWebWamEnumChannelProducerInsightsActionType").CHANNEL_PRODUCER_INSIGHTS_ACTION_TYPE.OPEN,entryPoint:e}),this.$6(n)},n.logNavigationTap=function(t){this.log({actionType:o("WAWebWamEnumChannelProducerInsightsActionType").CHANNEL_PRODUCER_INSIGHTS_ACTION_TYPE.NAVIGATION_TAP,actionTarget:p(t)}),this.$6(t)},n.logInfoIconTap=function(t){this.log({actionType:o("WAWebWamEnumChannelProducerInsightsActionType").CHANNEL_PRODUCER_INSIGHTS_ACTION_TYPE.INFO_ICON_TAP,actionTarget:t})},n.logHelpCentreClick=function(t){this.log({actionType:o("WAWebWamEnumChannelProducerInsightsActionType").CHANNEL_PRODUCER_INSIGHTS_ACTION_TYPE.LINK_CLICK,actionTarget:t})},n.$6=function(t){switch(t){case"reach":this.$5=o("WAWebWamEnumChannelProducerInsightsSurface").CHANNEL_PRODUCER_INSIGHTS_SURFACE.REACH_TAB;break;case"followers":this.$5=o("WAWebWamEnumChannelProducerInsightsSurface").CHANNEL_PRODUCER_INSIGHTS_SURFACE.FOLLOWERS_TAB;break;case"growth":this.$5=o("WAWebWamEnumChannelProducerInsightsSurface").CHANNEL_PRODUCER_INSIGHTS_SURFACE.GROWTH_TAB;break;default:}},t})(),m=c.createContext({log:function(){_()},logNavigationTap:function(){_()},logInfoIconTap:function(){_()},logHelpCentreClick:function(){_()},logOpen:function(){_()},logClose:function(){_()}});function p(e){switch(e){case"followers":return o("WAWebWamEnumActionTarget").ACTION_TARGET.FOLLOWERS_TAB;case"growth":return o("WAWebWamEnumActionTarget").ACTION_TARGET.GROWTH_TAB;default:return o("WAWebWamEnumActionTarget").ACTION_TARGET.GROWTH_TAB}}function _(){if(o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[NewsletterProducerInsightsLogger] unimplemented"]))).sendLogs("newsletter-producer-insights-logger-unimplemented"),!r("gkx")("26258"))throw r("err")("unimplemented")}l.NewsletterProducerInsightsLogger=d,l.NewsletterProducerInsightsLoggerContext=m}),98);
__d("WAWebNewsletterQuickFollowButton.react",["fbt","WAWebFlex.react","WAWebFollowNewsletter","WAWebKeyboardHotKeys.react","WAWebModalManager","WAWebNewsletterUnsubscribeAction","WAWebSpinner.react","WAWebText.react","WAWebToast.react","WAWebToastManager","WAWebUISpacing","WAWebUnfollowNewsletterConfirmationModal.react","WAWebUnstyledButton.react","WDSButton.react","react","useWAWebABPropConfigValue","useWAWebUnmountSignal"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=r("react")),d=(e||(e=o("react"))).useState,m={followButton:{boxSizing:"x9f619",$$css:!0},withBorder:{backgroundColor:"xlwc9sh",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",borderTopColor:"xnj1f2r",borderInlineEndColor:"x2uibgs",borderBottomColor:"xkveyfu",borderInlineStartColor:"x12llq9",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderStartStartRadius:"x15dp1bm",borderStartEndRadius:"x1pg3x37",borderEndEndRadius:"xqi6p0a",borderEndStartRadius:"x102ru31",":hover_boxShadow":"xv52azi",$$css:!0}};function p(e){var t=e.confirmUnfollow,n=e.following,a=e.hasBorder,i=a===void 0?!1:a,l=e.loggingOptions,u=e.newsletter,p=e.onFollowAction,_=e.onFollowSuccess,f=e.onUnfollowAction,g=e.ref,h=d(!1),y=h[0],C=h[1],b=r("useWAWebUnmountSignal")(),v=o("useWAWebABPropConfigValue").useABPropConfigValue("wds_web_button"),S=function(){!b.aborted&&C(!1)},R=function(t){o("WAWebToastManager").ToastManager.open(c.jsx(o("WAWebToast.react").Toast,{msg:t,visibile:!1}))},L=function(r){if(r.preventDefault(),r.stopPropagation(),C(!0),!n){p==null||p(),o("WAWebFollowNewsletter").followDirectoryNewsletter(u,l).then(function(){_==null||_(),R(s._(/*BTDS*/"Following {channelName}",[s._param("channelName",u.name)]))}).finally(function(){return S()});return}if(f==null||f(),t){o("WAWebModalManager").ModalManager.open(c.jsx(o("WAWebUnfollowNewsletterConfirmationModal.react").UnfollowNewsletterConfirmationModal,{chat:u,loggingOptions:l,onClose:function(){return S()}}));return}o("WAWebNewsletterUnsubscribeAction").unsubscribeFromNewsletterAction(u,babelHelpers.extends({deleteLocalModels:!1},l)).then(function(){R(o("WAWebUnfollowNewsletterConfirmationModal.react").getUnfollowNewsletterAnnouncement(u))}).finally(S)},E={enter:L,space:L},k=n?s._(/*BTDS*/"Following"):s._(/*BTDS*/"Follow");if(v){var I=n?"outline":"tonal";return c.jsx(r("WDSButton.react"),{onPress:L,ref:g,testid:void 0,loading:y,label:k,type:"default",variant:I,size:"small"})}return c.jsx(o("WAWebKeyboardHotKeys.react").HotKeys,{handlers:E,children:c.jsx(r("WAWebUnstyledButton.react"),{testid:void 0,ref:g,onClick:L,xstyle:[m.followButton,i&&m.withBorder],children:c.jsx(o("WAWebFlex.react").FlexRow,{align:"center",justify:"center",xstyle:[o("WAWebUISpacing").uiPadding.vert10,o("WAWebUISpacing").uiPadding.horiz16],children:y?c.jsx(o("WAWebSpinner.react").Spinner,{color:"highlight",size:16}):c.jsx(o("WAWebText.react").WAWebTextSectionTitle,{color:n?"secondary":"teal",children:k})})})})}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),226);
__d("useWAWebNewsletterDiscoveryVisibilityLogger",["WAWebMerlinImpressionManager","react","useVPVDImpression"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useState;function d(e){var t=e.cid,n=e.newsletterDirectorySessionId,a=e.similarNewslettersSessionId,i=e.newsletterDirectorySectionIndex,l=e.newsletterIndex,s=e.newsletterEventUnit,d=e.pillSelected,m=e.country,p=e.newsletterDirectorySectionName,_=e.discoverySurface,f=c(),g=f[0],h=f[1],y=c(),C=y[0],b=y[1],v=u(function(){h(d),b(m)},[m,d]),S=u(function(e){var r=e.hiddenTime,u=e.visibleTime;o("WAWebMerlinImpressionManager").logNewsletterDiscoveryVisibility({enter_ts:u,exit_ts:r,itemId:JSON.stringify({channel_id:t,discovery_surface:_,pillSelected:g,country:C}),discoveryData:{cid:t,newsletterDirectorySessionId:n,similarNewslettersSessionId:a,newsletterDirectorySectionIndex:i,newsletterIndex:l,newsletterEventUnit:s,pillSelected:g!=null?g:void 0,country:C!=null?C:void 0,newsletterDirectorySectionName:p,discoverySurface:_}})},[p,n,s,t,C,_,g,i,a,l]);return r("useVPVDImpression")({onVPVDEnd:S,onVPVDStart:v})}l.default=d}),98);
__d("WAWebNewsletterRecommendedV2Item.react",["WAWebBaseShimmerComponents.react","WAWebChatEntryPoint","WAWebFlex.react","WAWebKeyboardHotKeys.react","WAWebLinkDevicePhoneNumberEntryInputFormatUtils","WAWebNewsletterAttributionLogging","WAWebNewsletterChatItem.react","WAWebNewsletterGatingUtils","WAWebNewsletterLoggingContext","WAWebNewsletterQuickFollowButton.react","WAWebOpenNewsletterPreviewChat","WAWebUISpacing","WAWebUserPrefsMeUser","WAWebWamEnumChannelEventUnit","react","stylex","useWAWebEventTargetValue","useWAWebModelValues","useWAWebNewsletterDiscoveryVisibilityLogger"],(function(t,n,r,o,a,i,l){var e,s,u;function c(e){if(e==null)throw new TypeError("Cannot destructure "+e)}var d=u||(u=o("react")),m=e||(e=r("react")),p=d.useCallback,_=d.useContext,f={root:{borderStartStartRadius:"x6nvzda",borderStartEndRadius:"x4i4b9w",borderEndEndRadius:"xhl9efl",borderEndStartRadius:"xj65ea0",borderTopColor:"xog00wb",borderInlineEndColor:"x9oqtsu",borderBottomColor:"xk1krjo",borderInlineStartColor:"xqk4rbu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",boxSizing:"x9f619",width:"xj35x94",$$css:!0}};function g(e){var t=e.children,n=e.onClick;return m.jsx(o("WAWebKeyboardHotKeys.react").HotKeys,{role:"button",onClick:n,children:m.jsx(o("WAWebFlex.react").FlexColumn,{align:"center",testid:void 0,className:(s||(s=r("stylex")))(f.root,o("WAWebUISpacing").uiPadding.top12,o("WAWebUISpacing").uiPadding.horiz8,o("WAWebUISpacing").uiPadding.bottom8),children:t})})}g.displayName=g.name+" [from "+i.id+"]";function h(e){if(o("WAWebNewsletterGatingUtils").isNewsletterDiscoveryVisibilityLoggingEnabled())return m.jsx(b,babelHelpers.extends({},e));var t=babelHelpers.extends({},(c(e),e));return m.jsx(C,babelHelpers.extends({},t))}h.displayName=h.name+" [from "+i.id+"]";function y(){return m.jsxs(g,{children:[m.jsx(o("WAWebBaseShimmerComponents.react").CircleShimmer,{diameter:64,xstyle:o("WAWebUISpacing").uiMargin.bottom8}),m.jsx(o("WAWebBaseShimmerComponents.react").RectangleShimmer,{height:20,width:96,xstyle:o("WAWebUISpacing").uiMargin.bottom16}),m.jsx(o("WAWebBaseShimmerComponents.react").RectangleShimmer,{height:20,width:66,xstyle:o("WAWebUISpacing").uiMargin.bottom8})]})}y.displayName=y.name+" [from "+i.id+"]";function C(e){var t=e.chatEntryPoint,n=e.eventSurface,a=e.newsletter,i=e.onFollow,l=e.discoverySurface,s=o("useWAWebModelValues").useModelValues(a,["newsletterMetadata"]),u=s.newsletterMetadata,c=r("useWAWebEventTargetValue")(o("useWAWebModelValues").useOptionalModelValues(u,["isSubscribedOrOwned"]),["isSubscribedOrOwned"],function(){return(u==null?void 0:u.isSubscribedOrOwned)===!0}),d=_(r("WAWebNewsletterLoggingContext")),f=d.similarNewsletterSessionId,h=d.entryPoint,y=d.eventUnit,C=p(function(){t===o("WAWebChatEntryPoint").ChatEntryPoint.SimilarNewsletters&&o("WAWebNewsletterAttributionLogging").NewsletterCoreEventLogger.setSimilarChannelsSessionId(f),o("WAWebOpenNewsletterPreviewChat").openNewsletterPreviewChat({identifier:a.id.toString(),chatEntryPoint:t,discoverySurface:l})},[a,t,f,l]),b={eventSurface:n,similarChannelSessionId:f,entryPoint:h,eventUnit:y,discoverySurface:l};return m.jsxs(g,{onClick:C,children:[m.jsx(r("WAWebNewsletterChatItem.react"),{newsletter:a}),m.jsx(r("WAWebNewsletterQuickFollowButton.react"),{confirmUnfollow:!1,onFollowSuccess:i,following:c,loggingOptions:b,newsletter:a})]})}C.displayName=C.name+" [from "+i.id+"]";function b(e){var t=e.newsletter,n=e.similarNewslettersSessionId,a=e.newsletterDirectorySessionId,i=e.discoverySurface,l=e.newsletterEventUnit,s=l!==o("WAWebWamEnumChannelEventUnit").CHANNEL_EVENT_UNIT.SIMILAR_CHANNELS?o("WAWebLinkDevicePhoneNumberEntryInputFormatUtils").getCountryCodeIso(o("WAWebUserPrefsMeUser").getMePnUserOrThrow().user):void 0,u=r("useWAWebNewsletterDiscoveryVisibilityLogger")({cid:t.id.user,newsletterEventUnit:l,discoverySurface:i,similarNewslettersSessionId:n,newsletterDirectorySessionId:a,country:s}),d=u[0],p=u[1],_=babelHelpers.extends({},(c(e),e));return m.jsx("div",{ref:d,children:m.jsx(C,babelHelpers.extends({},_))})}b.displayName=b.name+" [from "+i.id+"]",l.NewsletterRecommendedItem=h,l.NewsletterRecommendedItemShimmer=y}),98);
__d("WAWebNewsletterRecommendedV2Unit.react",["WAWebCarouselScrollButton.react","WAWebCommonNewsletterEnums","WAWebFlex.react","WAWebNewsletterRecommendedV2Item.react","WAWebUISpacing","react","useWAWebWindowSize"],(function(t,n,r,o,a,i,l){var e,s,u=s||(s=r("react")),c=(e||(e=o("react"))).useCallback,d={scrollContainer:{overflowX:"x14aock7",maxWidth:"x193iq5w","-ms-overflow-style":"x1pq812k",scrollbarWidth:"x1rohswg","::-webkit-scrollbar_display":"xfk6m8",$$css:!0}},m=120,p=450,_=600,f=970,g=750;function h(e){var t=e.chatEntryPoint,n=e.containerRef,r=e.discoverySurface,a=e.eventSurface,i=e.isFullUnit,l=e.newsletterDirectorySessionId,s=e.newsletterEventUnit,c=e.newsletters,m=e.onFollow,p=e.similarNewslettersSessionId,_=e.size;return i?u.jsx(v,{eventSurface:a,chatEntryPoint:t,newsletters:c,onFollow:null,size:_,discoverySurface:r,newsletterDirectorySessionId:l,similarNewslettersSessionId:p,newsletterEventUnit:s}):u.jsx(o("WAWebFlex.react").FlexColumn,{rowGap:8,xstyle:d.scrollContainer,ref:n,children:u.jsx(b,{eventSurface:a,chatEntryPoint:t,newsletters:c,onFollow:m,discoverySurface:r,newsletterDirectorySessionId:l,similarNewslettersSessionId:p,newsletterEventUnit:s})})}h.displayName=h.name+" [from "+i.id+"]";function y(e){var t=e.isFullUnit,n=e.size;return t?u.jsx(o("WAWebFlex.react").FlexColumn,{rowGap:8,align:"center",children:Array.from({length:n.width>f?3:2},function(){return u.jsxs(o("WAWebFlex.react").FlexRow,{columnGap:8,children:[n.height>p&&u.jsx(o("WAWebNewsletterRecommendedV2Item.react").NewsletterRecommendedItemShimmer,{}),n.height>_&&u.jsx(o("WAWebNewsletterRecommendedV2Item.react").NewsletterRecommendedItemShimmer,{}),n.height>g&&u.jsx(o("WAWebNewsletterRecommendedV2Item.react").NewsletterRecommendedItemShimmer,{})]})})}):u.jsxs(o("WAWebFlex.react").FlexRow,{columnGap:8,children:[u.jsx(o("WAWebNewsletterRecommendedV2Item.react").NewsletterRecommendedItemShimmer,{}),u.jsx(o("WAWebNewsletterRecommendedV2Item.react").NewsletterRecommendedItemShimmer,{}),u.jsx(o("WAWebNewsletterRecommendedV2Item.react").NewsletterRecommendedItemShimmer,{}),u.jsx(o("WAWebNewsletterRecommendedV2Item.react").NewsletterRecommendedItemShimmer,{})]})}y.displayName=y.name+" [from "+i.id+"]";function C(e){var t=o("WAWebCarouselScrollButton.react").useScrollableContainer({itemWidth:m,isLoading:e.isLoading,itemsLoaded:e.newsletters.length,isFullUnit:e.isFullUnit}),n=t.containerRef,a=t.scrollStartBy,i=t.scrollEndBy,l=t.position,s=t.handleScroll,d=r("useWAWebWindowSize")(),p=e.afterFollow,_=c(function(t){p==null||p();var n=e.newsletters.findIndex(function(e,n){var r;return((r=e.newsletterMetadata)==null?void 0:r.membershipType)===o("WAWebCommonNewsletterEnums").NewsletterMembershipType.Guest&&n>t});n!==-1&&(i==null||i(m*(n-t)))},[e.newsletters,i,p]),f=u.jsx(h,{eventSurface:e.eventSurface,chatEntryPoint:e.chatEntryPoint,containerRef:n,isFullUnit:e.isFullUnit,newsletters:e.newsletters,onFollow:_,size:d,discoverySurface:e.discoverySurface,newsletterDirectorySessionId:e.newsletterDirectorySessionId,similarNewslettersSessionId:e.similarNewslettersSessionId,newsletterEventUnit:e.newsletterEventUnit}),g=e.isLoading?u.jsx(y,{isFullUnit:e.isFullUnit,size:d}):f;return u.jsx(o("WAWebFlex.react").FlexColumn,{testid:void 0,children:u.jsxs("div",{className:"x1n2onr6 x193iq5w",onWheel:s,children:[g,l!=="start"&&a!=null&&u.jsx(o("WAWebCarouselScrollButton.react").CarouselScrollButton,{direction:"start",onClick:function(){return a(m)},xstyle:o("WAWebUISpacing").uiMargin.start13}),l!=="end"&&i!=null&&u.jsx(o("WAWebCarouselScrollButton.react").CarouselScrollButton,{direction:"end",onClick:function(){return i(m)},xstyle:o("WAWebUISpacing").uiMargin.end13})]})})}C.displayName=C.name+" [from "+i.id+"]";function b(e){var t=e.chatEntryPoint,n=e.discoverySurface,r=e.eventSurface,a=e.newsletterDirectorySessionId,i=e.newsletterEventUnit,l=e.newsletters,s=e.onFollow,c=e.similarNewslettersSessionId;return u.jsx(o("WAWebFlex.react").FlexRow,{columnGap:8,children:l.map(function(e,l){return u.jsx(o("WAWebNewsletterRecommendedV2Item.react").NewsletterRecommendedItem,{eventSurface:r,chatEntryPoint:t,newsletter:e,onFollow:function(){return s==null?void 0:s(l)},discoverySurface:n,newsletterDirectorySessionId:a,similarNewslettersSessionId:c,newsletterEventUnit:i},e.id.toJid())})})}b.displayName=b.name+" [from "+i.id+"]";function v(e){var t=e.chatEntryPoint,n=e.discoverySurface,r=e.eventSurface,a=e.newsletterDirectorySessionId,i=e.newsletterEventUnit,l=e.newsletters,s=e.onFollow,c=e.similarNewslettersSessionId,d=e.size,m=d.width>f?3:2,h={eventSurface:r,chatEntryPoint:t,onFollow:s,discoverySurface:n,newsletterDirectorySessionId:a,similarNewslettersSessionId:c,newsletterEventUnit:i};return u.jsxs(o("WAWebFlex.react").FlexColumn,{rowGap:8,align:"center",children:[d.height>p&&u.jsx(b,babelHelpers.extends({},h,{newsletters:l.slice(0,m)})),d.height>_&&u.jsx(b,babelHelpers.extends({},h,{newsletters:l.slice(m,m*2)})),d.height>g&&u.jsx(b,babelHelpers.extends({},h,{newsletters:l.slice(m*2,m*3)}))]})}v.displayName=v.name+" [from "+i.id+"]",l.default=C}),98);
__d("WAWebNewsletterRoleDataProcessors",["WAWebNewsletterMetricUtils"],(function(t,n,r,o,a,i,l){"use strict";var e={getMetrics:function(){return[{id:o("WAWebNewsletterMetricUtils").NewsletterInsightMetricQuery.UniqueVisitorOverPeriodByRole,type:"UNIQUE_VISITORS",group_by:{number_of_days:o("WAWebNewsletterMetricUtils").INSIGHT_DAYS_COVERED,role:!0}}]},process:function(t){var e,n,r=t.get(o("WAWebNewsletterMetricUtils").NewsletterInsightMetricQuery.UniqueVisitorOverPeriodByRole);return{followersReached:r==null||(e=r.find(function(e){return e.role==="SUBSCRIBER"}))==null?void 0:e.value,nonFollowersReached:r==null||(n=r.find(function(e){return e.role==="GUEST"}))==null?void 0:n.value}}};l.REACH_BY_ROLE_PROCESSOR=e}),98);
__d("WAWebPopulateNewsletterInsightsAction",["WAJids","WALogger","WAWebChatGetters","WAWebNewsletterBridgeApi","WAWebNewsletterGatingUtils","WAWebNewsletterGrowthChartProcessors","WAWebNewsletterInsightCountryDataProcessors","WAWebNewsletterInsightDeltaProcessors","WAWebNewsletterInsightsJob","WAWebNewsletterMetricUtils","WAWebNewsletterRoleDataProcessors","asyncToGeneratorRuntime","err"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return c(e,[o("WAWebNewsletterInsightDeltaProcessors").REACH_WITH_DELTA_PROCESSOR,o("WAWebNewsletterInsightDeltaProcessors").NET_FOLLOWS_PROCESSOR])}function u(e){return c(e,[o("WAWebNewsletterInsightDeltaProcessors").REACH_WITH_DELTA_PROCESSOR,o("WAWebNewsletterRoleDataProcessors").REACH_BY_ROLE_PROCESSOR,o("WAWebNewsletterInsightCountryDataProcessors").REACH_BY_COUNTRY_PROCESSOR,o("WAWebNewsletterInsightDeltaProcessors").FOLLOWER_WITH_DELTA_PROCESSOR,o("WAWebNewsletterInsightCountryDataProcessors").FOLLOWER_BY_COUNTRY_PROCESSOR,o("WAWebNewsletterGrowthChartProcessors").FOLLOWER_GROWTH_PROCESSOR])}function c(e,t){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){if(!o("WAWebChatGetters").getIsNewsletter(t))throw o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[newsletter][getAndUpdateNewsletterInsights] called with a non-newsletter chat"]))).tags("newsletter").devConsole(t.id).sendLogs("getting-insights-for-non-newsletter"),r("err")("getting-insights-for-non-newsletter");if(o("WAWebNewsletterGatingUtils").canFetchProducerInsights(t.newsletterMetadata)){var a=o("WAWebNewsletterMetricUtils").getUniqueMetricRequests(n),i=o("WAJids").toNewsletterJid(t.id.toJid()),l={newsletterJid:i,requestedMetrics:a},s=yield o("WAWebNewsletterInsightsJob").getNewsletterInsights(l),u=s.metricValueMap,c=s.lastUpdateTime,d=s.dataStatus,m=n.map(function(e){return e.process(u)}),p={id:t.id,rangeStart:o("WAWebNewsletterMetricUtils").getInsightPeriodStart(c),rangeEnd:c,dataStatus:d};Object.assign.apply(Object,[p].concat(m)),yield o("WAWebNewsletterBridgeApi").NewsletterBridgeApi.updateNewsletterInsights({newsletter:t,insights:p})}}),d.apply(this,arguments)}l.populateNewsletterTileInsights=s,l.populateNewsletterTabInsights=u}),98);
__d("WAWebSendRequestPhoneNumberChatAction",["WALogger","WATimeUtils","WAWebAck","WAWebContactBlockedErrorAction","WAWebContactGetters","WAWebMsgKey","WAWebMsgType","WAWebSendMsgChatAction","WAWebUpdateLidMetadataJob","WAWebUserPrefsMeUser","WAWebViewMode.flow","asyncToGeneratorRuntime","err"],(function(t,n,r,o,a,i,l){var e;function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=t.id;if(!n.isLid())throw o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["requestPhoneNumber should not be called for non lid chat ",""])),n),r("err")("requestPhoneNumber should not be called for non lid chat");var a=t.contact;if(o("WAWebContactGetters").getIsUser(a)&&a.isContactBlocked)throw new(r("WAWebContactBlockedErrorAction"))("request phone number for a blocked contact",a);var i=o("WAWebUserPrefsMeUser").getMaybeMeDeviceLid();if(i!=null){var l=new(r("WAWebMsgKey"))({id:yield r("WAWebMsgKey").newId(),remote:t.id,fromMe:!0}),s={type:o("WAWebMsgType").MSG_TYPE.REQUEST_PHONE_NUMBER,kind:o("WAWebMsgType").MsgKind.RequestPhoneNumber,ack:o("WAWebAck").ACK.CLOCK,from:i,to:t.id,id:l,local:!0,isNewMsg:!0,viewMode:o("WAWebViewMode.flow").ViewModeType.VISIBLE,t:o("WATimeUtils").unixTime()};yield o("WAWebUpdateLidMetadataJob").updateLidMetadataJob([{lid:n,data:{shareOwnPn:a.shareOwnPn,requestedPnTimestamp:o("WATimeUtils").unixTime()}}]),yield o("WAWebSendMsgChatAction").addAndSendMsgToChat(t,s)[1]}}),u.apply(this,arguments)}l.sendRequestPhoneNumber=s}),98);
__d("WAWebSimilarNewslettersUnits.react",["WAWebChatEntryPoint","WAWebCommonNewsletterStrings","WAWebNewsletterAttributionLogging","WAWebNewsletterDirectorySearchAction","WAWebNewsletterLoggingContext","WAWebNewsletterRecommendedV2Unit.react","WAWebSimilarNewsletterLogging","WAWebSimilarNewsletterSessionId","WAWebStateUtils","WAWebSvgButton.react","WAWebSvgComponentBase","WAWebText.react","WAWebUISpacing","WAWebWamEnumBannerStatus","WAWebWamEnumBannerStatusReason","WAWebWamEnumChannelEntryPoint","WAWebWamEnumChannelEventSurface","WAWebWamEnumChannelEventUnit","WAWebWamEnumTsSurface","WAWebXIcon.react","react","stylex","useWAWebOnUnmount","useWAWebSimilarNewsletters","useWAWebUnmountSignal"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useEffect,m=c.useMemo,p=c.useRef,_=c.useState,f={root:{backgroundColor:"x1280gxy",position:"x1n2onr6",$$css:!0},dismissButton:{position:"x10l6tqk",top:"x1eu8d0j",insetInlineEnd:"xeer0ze",left:null,right:null,$$css:!0}};function g(t){var n=t.chat,a=t.ref,i=o("useWAWebSimilarNewsletters").useSimilarNewsletters(n),l=i.similarNewsletters,s=i.similarNewslettersToDisplay,c=p(!1),_=o("WAWebSimilarNewsletterSessionId").useSimilarNewslettersSessionId(),g=m(function(){return{similarNewsletterSessionId:_,eventUnit:o("WAWebWamEnumChannelEventUnit").CHANNEL_EVENT_UNIT.SIMILAR_CHANNELS,entryPoint:o("WAWebWamEnumChannelEntryPoint").CHANNEL_ENTRY_POINT.SIMILAR_CHANNEL}},[_]);r("useWAWebOnUnmount")(function(){o("WAWebNewsletterAttributionLogging").NewsletterCoreEventLogger.setIsSimilarUnitMountedForChat(null)}),d(function(){c.current||(o("WAWebNewsletterAttributionLogging").NewsletterCoreEventLogger.setSimilarChannelsSessionId(_),o("WAWebNewsletterAttributionLogging").NewsletterCoreEventLogger.setIsSimilarUnitMountedForChat(n.id),o("WAWebSimilarNewsletterLogging").logSimilarNewsletterImpression({originNewsletter:n,similarNewsletters:l,similarNewslettersToDisplay:s,eventSurface:o("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_THREAD,sessionId:_,bannerStatus:o("WAWebWamEnumBannerStatus").BANNER_STATUS.DISPLAYED}),c.current=!0)},[n]);var h=function(){var e;o("WAWebSimilarNewsletterLogging").logSimilarNewsletterDismiss({chat:n,reason:o("WAWebWamEnumBannerStatusReason").BANNER_STATUS_REASON.CLOSE_TAP,sessionId:_}),(e=o("WAWebStateUtils").unproxy(n).newsletterMetadata)==null||e.resetRecentlyFollowedFrom()};return u.jsx(r("WAWebNewsletterLoggingContext").Provider,{value:g,children:u.jsxs("div",babelHelpers.extends({"aria-label":o("WAWebCommonNewsletterStrings").getNewsletterSimilarNewslettersTitle(),ref:a},(e||(e=r("stylex"))).props(f.root,o("WAWebUISpacing").uiPadding.top12,o("WAWebUISpacing").uiPadding.bottom16,o("WAWebUISpacing").uiPadding.horiz16),{children:[u.jsx(r("WAWebSvgButton.react"),{Icon:o("WAWebXIcon.react").XIcon,onClick:h,DEPRECATED_color:o("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.SECONDARY,xstyle:f.dismissButton}),u.jsx(y,{eventSurface:o("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_THREAD,newsletters:s,similarNewslettersSessionId:Number(_),discoverySurface:o("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_THREAD})]}))})}g.displayName=g.name+" [from "+i.id+"]";function h(t){var n=t.chat,a=o("useWAWebSimilarNewsletters").useSimilarNewsletters(n),i=a.similarNewsletters,l=a.similarNewslettersToDisplay,s=a.hasEnoughNewsletters,c=o("WAWebSimilarNewsletterSessionId").useSimilarNewslettersSessionId(),g=m(function(){return{similarNewsletterSessionId:c,eventUnit:o("WAWebWamEnumChannelEventUnit").CHANNEL_EVENT_UNIT.SIMILAR_CHANNELS,entryPoint:o("WAWebWamEnumChannelEntryPoint").CHANNEL_ENTRY_POINT.SIMILAR_CHANNEL}},[c]),h=r("useWAWebUnmountSignal")(),C=_(l.length===0),b=C[0],v=C[1];d(function(){h.aborted||l.length===0&&o("WAWebNewsletterDirectorySearchAction").getSimilarNewslettersAction(n).finally(function(){return v(!1)})},[n,l.length,h]);var S=p(!1);return d(function(){!b&&!S.current&&(o("WAWebSimilarNewsletterLogging").logSimilarNewsletterImpression({originNewsletter:n,similarNewsletters:i,similarNewslettersToDisplay:l,eventSurface:o("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_PROFILE,sessionId:c,bannerStatus:s?o("WAWebWamEnumBannerStatus").BANNER_STATUS.DISPLAYED:o("WAWebWamEnumBannerStatus").BANNER_STATUS.HIDDEN}),S.current=!0)},[b]),!s&&!b?null:u.jsx(r("WAWebNewsletterLoggingContext").Provider,{value:g,children:u.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(f.root,o("WAWebUISpacing").uiMargin.top10,o("WAWebUISpacing").uiPadding.start30,o("WAWebUISpacing").uiPadding.vert16),{children:u.jsx(y,{eventSurface:o("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_PROFILE,newsletters:l,isLoading:b,similarNewslettersSessionId:Number(c),discoverySurface:o("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_PROFILE})}))})}h.displayName=h.name+" [from "+i.id+"]";function y(t){var n=t.discoverySurface,a=t.eventSurface,i=t.isLoading,l=i===void 0?!1:i,s=t.newsletters,c=t.ref,d=t.similarNewslettersSessionId;return u.jsxs("div",{ref:c,children:[u.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(o("WAWebUISpacing").uiMargin.bottom12),{children:u.jsx(o("WAWebText.react").WAWebTextSmall,{children:o("WAWebCommonNewsletterStrings").getNewsletterSimilarNewslettersTitle()})})),u.jsx(r("WAWebNewsletterRecommendedV2Unit.react"),{eventSurface:a,chatEntryPoint:o("WAWebChatEntryPoint").ChatEntryPoint.SimilarNewsletters,newsletters:s,isLoading:l,isFullUnit:!1,discoverySurface:n,newsletterEventUnit:o("WAWebWamEnumChannelEventUnit").CHANNEL_EVENT_UNIT.SIMILAR_CHANNELS,similarNewslettersSessionId:d})]})}y.displayName=y.name+" [from "+i.id+"]",l.SimilarNewslettersConversationBanner=g,l.SimilarNewslettersInfoDrawerUnit=h}),98);
__d("WAWebUserShieldIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(t,n,r,o,a,i,l){var e=["iconXstyle","height","width","name","viewBox"],s,u,c=s||(s=r("react")),d="user-shield";function m(t){var n=t.iconXstyle,a=t.height,i=t.width,l=t.name,s=t.viewBox,m=babelHelpers.objectWithoutPropertiesLoose(t,e),p;if(s){var _=s.x,f=_===void 0?0:_,g=s.y,h=g===void 0?0:g,y=s.width,C=y===void 0?0:y,b=s.height,v=b===void 0?0:b;p=[f,h,C,v].join(" ")}var S=20,R=16;return(a!=null||i!=null)&&(S=a,R=i),c.jsx(o("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers.extends({name:l!=null?l:d},m,{children:c.jsxs("svg",{viewBox:p!=null?p:"0 0 16 20",height:S,width:R,preserveAspectRatio:"xMidYMid meet",className:(u||(u=r("stylex")))(n),fill:"none",children:[c.jsx("title",{children:l!=null?l:d}),c.jsx("path",{d:"M8 11.0004C8.96667 11.0004 9.79167 10.6587 10.475 9.97539C11.1583 9.29206 11.5 8.46706 11.5 7.50039C11.5 6.53372 11.1583 5.70872 10.475 5.02539C9.79167 4.34206 8.96667 4.00039 8 4.00039C7.03333 4.00039 6.20833 4.34206 5.525 5.02539C4.84167 5.70872 4.5 6.53372 4.5 7.50039C4.5 8.46706 4.84167 9.29206 5.525 9.97539C6.20833 10.6587 7.03333 11.0004 8 11.0004ZM8 17.9004C8.98333 17.5837 9.85417 17.0879 10.6125 16.4129C11.3708 15.7379 12.0333 14.9754 12.6 14.1254C11.8833 13.7587 11.1375 13.4796 10.3625 13.2879C9.5875 13.0962 8.8 13.0004 8 13.0004C7.2 13.0004 6.4125 13.0962 5.6375 13.2879C4.8625 13.4796 4.11667 13.7587 3.4 14.1254C3.96667 14.9754 4.62917 15.7379 5.3875 16.4129C6.14583 17.0879 7.01667 17.5837 8 17.9004ZM8 19.9004C7.88333 19.9004 7.775 19.8921 7.675 19.8754C7.575 19.8587 7.475 19.8337 7.375 19.8004C5.125 19.0504 3.33333 17.6629 2 15.6379C0.666667 13.6129 0 11.4337 0 9.10039V4.37539C0 3.95872 0.120833 3.58372 0.3625 3.25039C0.604167 2.91706 0.916667 2.67539 1.3 2.52539L7.3 0.275391C7.53333 0.192057 7.76667 0.150391 8 0.150391C8.23333 0.150391 8.46667 0.192057 8.7 0.275391L14.7 2.52539C15.0833 2.67539 15.3958 2.91706 15.6375 3.25039C15.8792 3.58372 16 3.95872 16 4.37539V9.10039C16 11.4337 15.3333 13.6129 14 15.6379C12.6667 17.6629 10.875 19.0504 8.625 19.8004C8.525 19.8337 8.425 19.8587 8.325 19.8754C8.225 19.8921 8.11667 19.9004 8 19.9004Z",fill:"currentColor"})]})}))}m.displayName=m.name+" [from "+i.id+"]",l.UserShieldIcon=m}),98);
__d("useWAWebAdminInsightsHooks",["WATimeUtils","WAWebNewsletterMetricUtils","useWAWebModelValues"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("useWAWebModelValues").useModelValues(e,["adminInsights"]),n=o("useWAWebModelValues").useOptionalModelValues(t.adminInsights,["rangeStart","rangeEnd","rangeInDays"]);return s({rangeStart:n==null?void 0:n.rangeStart,rangeEnd:n==null?void 0:n.rangeEnd,creationTime:e.creationTime,rangeInDays:n==null?void 0:n.rangeInDays})}function s(e){var t=e.rangeEnd,n=e.rangeStart,r=e.creationTime,a=e.rangeInDays,i=t!=null?t:o("WATimeUtils").unixTime(),l=n!=null?n:o("WATimeUtils").castToUnixTime(Math.max(r,o("WAWebNewsletterMetricUtils").getInsightPeriodStart(i))),s=a!=null?a:o("WAWebNewsletterMetricUtils").INSIGHT_DAYS_COVERED;return{start:l,end:i,days:s}}l.useAdminInsightPeriod=e}),98);
__d("useWAWebAsyncRetry",["react","useWAWebAsync"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useState;function d(e,t){var n=c(0),o=n[0],a=n[1],i=u(function(){a(o+1)},[o]),l=r("useWAWebAsync")(function(){return e()},[].concat(t,[o]));return babelHelpers.extends({},l,{retry:i})}l.default=d}),98);
__d("useWAWebNewsletterInviteLink",["fbt","WALogger","WAWebCopyToClipboard","WAWebModalManager","WAWebNewsletterLinkShareLogging","WAWebSendTextFlow.react","WAWebToast.react","WAWebToastManager","WAWebWamEnumChannelLinkShareDirection","WAWebWidFactory","react","useWAWebModelValues"],(function(t,n,r,o,a,i,l,s){var e,u,c,d=c||(c=r("react")),m=(u||(u=o("react"))).useCallback;function p(e){var t=e.chat,n=e.linkShareLoggingNavigationParams,a=o("useWAWebModelValues").useModelValues(t,["formattedTitle"]),i=a.formattedTitle,l=o("useWAWebModelValues").useOptionalModelValues(t.newsletterMetadata,["membershipType","inviteCode"]),u=l||{},c=u.inviteCode,p=c!=null?f(c):null,g=m(function(){if(p!=null){o("WAWebNewsletterLinkShareLogging").logNewsletterLinkShare({shareDirection:o("WAWebWamEnumChannelLinkShareDirection").CHANNEL_LINK_SHARE_DIRECTION.WHATSAPP,linkShareScreen:n.linkShareScreen,newsletter:o("WAWebWidFactory").asNewsletterWidOrThrow(t.id),linkShareScreenEntryPoint:n.linkShareScreenEntryPoint});var e=s._(/*BTDS*/"Follow the {newsletter_name} channel on WhatsApp: {link}",[s._param("newsletter_name",i),s._param("link",p)]),a=s._(/*BTDS*/"Send channel link to");o("WAWebModalManager").ModalManager.open(d.jsx(r("WAWebSendTextFlow.react"),{title:a,text:e.toString(),origin:t.id}),{transition:"modal-flow"})}},[p,n,t.id,i]),h=m(function(){p!=null&&_(p)},[p]);return[p,h,g]}function _(t){o("WAWebCopyToClipboard").copyTextToClipboard(t).then(function(e){e?o("WAWebToastManager").ToastManager.open(d.jsx(o("WAWebToast.react").Toast,{msg:s._(/*BTDS*/"Link copied to clipboard.")})):o("WAWebToastManager").ToastManager.open(d.jsx(o("WAWebToast.react").Toast,{msg:s._(/*BTDS*/"Couldn't copy to clipboard.")}))}).catch(function(){o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[newsletter][invite link] failed to copy text to clipboard"]))).sendLogs("newsletter-invite-link-failed-to-copy-text-to-clipboard")})}function f(e){return"https://whatsapp.com/channel/"+e}l.useNewsletterInviteLink=p,l.copyInviteLink=_,l.getInviteLink=f}),226);